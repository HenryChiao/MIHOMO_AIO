# Mihomo é…ç½®ä»å…¥é—¨åˆ°è¿›é˜¶ï¼šä¸‰é˜¶æ®µå®Œå…¨æ•™ç¨‹

> **å‚è€ƒæ¥æºï¼š**
> [è™šç©ºç»ˆç«¯å®˜æ–¹æ–‡æ¡£](https://wiki.metacubex.one/) Â· [å®˜æ–¹è¯­æ³•æ‰‹å†Œ](https://wiki.metacubex.one/en/handbook/syntax/) Â·

---

## å†™åœ¨æœ€å‰

Mihomoï¼ˆåŸå Clash Metaï¼‰æ˜¯ç›®å‰åŠŸèƒ½æœ€å®Œæ•´ã€ç¤¾åŒºæœ€æ´»è·ƒçš„ Clash è¡ç”Ÿå†…æ ¸ã€‚å®ƒæœ¬èº«æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå®Œå…¨é è¯»å–ä¸€ä»½ **YAML æ ¼å¼**çš„é…ç½®æ–‡ä»¶æ¥å·¥ä½œã€‚

æœ¬æ•™ç¨‹åˆ†ä¸‰ä¸ªé˜¶æ®µï¼Œæ¯ä¸€é˜¶æ®µéƒ½æœ‰ç‹¬ç«‹çš„å®Œæ•´ç¤ºä¾‹ï¼Œä½ å¯ä»¥ä»ä»»ä¸€é˜¶æ®µå¼€å§‹é˜…è¯»ã€‚**ç¬¬ä¸€é˜¶æ®µ**æ˜¯èƒ½è·‘èµ·æ¥çš„æœ€å°é…ç½®ï¼Œ**ç¬¬äºŒé˜¶æ®µ**å¼•å…¥è§„åˆ™é›†å’Œé”šç‚¹å†™æ³•ï¼Œ**ç¬¬ä¸‰é˜¶æ®µ**è¦†ç›– TUN é€æ˜ä»£ç†ã€dialer-proxy ä»£ç†é“¾ã€æ€§èƒ½è°ƒä¼˜ç­‰è¿›é˜¶è¯é¢˜ã€‚

---

## YAML åŸºç¡€ï¼šåŠ¨ç¬”å‰å¿…è¯»

### ç¼©è¿›è§„åˆ™

YAML **ç»å¯¹ç¦æ­¢ä½¿ç”¨ Tab**ï¼Œåªèƒ½ç”¨ç©ºæ ¼ã€‚åŒä¸€å±‚çº§çš„é”®å¿…é¡»å¯¹é½ï¼Œç¼©è¿›å¤šå°‘ç©ºæ ¼æ— æ‰€è°“ï¼Œä½†å¿…é¡»ä¸€è‡´ã€‚è¿™æ˜¯æ–°æ‰‹æœ€å¸¸è§çš„æŠ¥é”™æ¥æºã€‚

```yaml
# âœ… æ­£ç¡®
dns:
  enable: true
  listen: 0.0.0.0:1053

# âŒ é”™è¯¯ï¼ˆç¬¬äºŒè¡Œç”¨äº† Tabï¼‰
dns:
	enable: true
```

### å››ç§ç­‰ä»·å†™æ³•

mihomo çš„é…ç½®æ–‡ä»¶æ”¯æŒ YAML å’Œ JSON æ··å†™ï¼Œä¸‹é¢å››ç§å†™æ³•å®Œå…¨ç­‰ä»·ï¼š

```yaml
# å†™æ³•ä¸€ï¼šæ ‡å‡†å¤šè¡Œ YAMLï¼ˆå¯è¯»æ€§æœ€å¥½ï¼Œé€‚åˆé¡¶å±‚é…ç½®ï¼‰
tun:
  enable: true
  stack: mixed
  auto-route: true

# å†™æ³•äºŒï¼šå¤šè¡Œ JSON èŠ±æ‹¬å·ï¼ˆproxy-groups ä¸­å¸¸ç”¨ï¼‰
tun: {
  enable: true,
  stack: mixed,
  auto-route: true
}

# å†™æ³•ä¸‰ï¼šå•è¡Œ JSON èŠ±æ‹¬å·ï¼ˆproxy-groups åˆ—è¡¨é¡¹å¸¸ç”¨ï¼Œæå¤§ç¼©çŸ­é…ç½®é•¿åº¦ï¼‰
tun: { enable: true, stack: mixed, auto-route: true }

# å†™æ³•å››ï¼šæ•°ç»„çš„å•è¡Œå†™æ³•
nameserver: [223.5.5.5, 119.29.29.29]
# ç­‰ä»·äºï¼š
nameserver:
  - 223.5.5.5
  - 119.29.29.29
```



# ç¬¬ä¸€é˜¶æ®µï¼šå°ç™½ç¯‡ â€”â€” èƒ½è·‘èµ·æ¥å°±æ˜¯èƒœåˆ©

**ç›®æ ‡ï¼š** å†™å‡ºä¸€ä»½èƒ½è®© mihomo æ­£å¸¸å¯åŠ¨ã€å¯ä»¥ç¿»å¢™çš„æœ€å°å¯ç”¨é…ç½®ã€‚æ¯ä¸€è¡Œéƒ½çŸ¥é“å®ƒåœ¨åšä»€ä¹ˆï¼Œä¸ç•™æ­»è§’ã€‚

---

## ä¸€ã€é…ç½®æ–‡ä»¶çš„æ•´ä½“éª¨æ¶

```
å…¨å±€è®¾ç½®ï¼ˆç«¯å£ã€æ¨¡å¼ã€æ—¥å¿—ç­‰ï¼‰
DNS é…ç½®
åŸŸåå—…æ¢ï¼ˆSniffï¼Œå¯é€‰ï¼‰
TUN å…¥ç«™ï¼ˆå¯é€‰ï¼Œè¿›é˜¶ç”¨ï¼‰
å‡ºç«™ä»£ç†èŠ‚ç‚¹ï¼ˆproxiesï¼‰
ä»£ç†æä¾›è€…ï¼ˆproxy-providersï¼Œæœºåœºè®¢é˜…ï¼‰
ä»£ç†ç»„ï¼ˆproxy-groupsï¼‰â€”â€” ç­–ç•¥æ ¸å¿ƒ
è§„åˆ™æä¾›è€…ï¼ˆrule-providersï¼‰
è·¯ç”±è§„åˆ™ï¼ˆrulesï¼‰
```

è§„åˆ™ä»ä¸Šå¾€ä¸‹é€æ¡åŒ¹é…ï¼Œ**ç¬¬ä¸€æ¡åŒ¹é…åˆ°çš„è§„åˆ™ç«‹å³ç”Ÿæ•ˆï¼Œåé¢çš„è§„åˆ™ä¸å†æ£€æŸ¥**ã€‚

---

## äºŒã€å…¨å±€è®¾ç½®

```yaml
# â•â• ç«¯å£ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mixed-port: 7890          # HTTP + SOCKS5 æ··åˆç«¯å£ï¼ˆæ¨èåªç”¨è¿™ä¸€ä¸ªï¼‰
allow-lan: false          # æ˜¯å¦å…è®¸å±€åŸŸç½‘å†…å…¶ä»–è®¾å¤‡æ¥å…¥ä»£ç†
                          # ä¸ªäººç”µè„‘è®¾ falseï¼›è½¯è·¯ç”±/å…±äº«ä»£ç†è®¾ true
bind-address: "*"         # allow-lan ä¸º true æ—¶ç»‘å®šå“ªäº›ç½‘å¡ï¼Œ* è¡¨ç¤ºå…¨éƒ¨

# â•â• è¿è¡Œæ¨¡å¼ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mode: rule                # rule=æŒ‰è§„åˆ™åˆ†æµï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰
                          # global=æ‰€æœ‰æµé‡èµ°ä»£ç†ï¼ˆè°ƒè¯•ç”¨ï¼‰
                          # direct=æ‰€æœ‰æµé‡ç›´è¿ï¼ˆè°ƒè¯•ç”¨ï¼‰

# â•â• æ—¥å¿— â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
log-level: warning        # silent / error / warning / info / debug
                          # æ—¥å¸¸ç”¨ warningï¼›æ’æŸ¥é—®é¢˜æ—¶æ”¹ debug

# â•â• æ‚é¡¹ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ipv6: false               # ä¸å»ºè®®æ–°æ‰‹å¼€å¯ï¼Œé¿å…æ„å¤–é—®é¢˜
find-process-mode: strict # æ˜¯å¦åŒ¹é…è¿›ç¨‹åï¼ˆè·¯ç”±å™¨/è½¯è·¯ç”±æ¨è offï¼‰
unified-delay: true       # ç»Ÿä¸€å»¶è¿Ÿæµ‹è¯•ï¼šç”¨å®é™…å¾€è¿”æ—¶é—´ï¼Œæ›´å‡†ç¡®
tcp-concurrent: true      # TCP å¹¶å‘ï¼šåŒæ—¶å‘æ‰€æœ‰è§£æ IP å‘èµ·è¿æ¥ï¼Œé€‰æœ€å¿«çš„
global-client-fingerprint: chrome  # å…¨å±€ TLS æŒ‡çº¹ä¼ªè£…

# â•â• å¤–éƒ¨æ§åˆ¶ï¼ˆWeb é¢æ¿ï¼‰â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
external-controller: 127.0.0.1:9090
# secret: "your_strong_password"   # å¦‚æœå¯¹å¤–æš´éœ²åŠ¡å¿…è®¾ç½®å¯†ç 
external-ui: ui                     # Web UI å­˜æ”¾ç›®å½•ï¼ˆç›¸å¯¹äºé…ç½®æ–‡ä»¶ç›®å½•ï¼‰
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

# â•â• GeoData æ•°æ®åº“åœ°å€ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
geox-url:
  geoip:   "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb:    "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

# â•â• é…ç½®æŒä¹…åŒ– â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
profile:
  store-selected: true    # è®°ä½ä½ åœ¨ Web UI ä¸­çš„èŠ‚ç‚¹é€‰æ‹©ï¼Œé‡å¯åä¸ä¸¢å¤±
  store-fake-ip: true     # æŒä¹…åŒ– fake-ip æ˜ å°„è¡¨
```

---

## ä¸‰ã€DNS é…ç½®

### ä¸ºä»€ä¹ˆéœ€è¦é…ç½® DNSï¼Ÿ

å½“ä½ è®¿é—® `google.com`ï¼Œä½ çš„è®¾å¤‡éœ€è¦å…ˆæŠŠåŸŸåè§£ææˆ IPã€‚å¦‚æœç”¨è¿è¥å•†çš„é»˜è®¤ DNSï¼Œå®ƒä¼šå¯¹å¾ˆå¤šå›½å¤–åŸŸåè¿”å›é”™è¯¯æˆ–æ±¡æŸ“çš„ IPï¼Œå¯¼è‡´ä»£ç†å¤±æ•ˆã€‚

mihomo å†…ç½®äº†ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼Œå®ƒä¼šï¼š
1. æ‹¦æˆªæ‰€æœ‰ DNS è¯·æ±‚ï¼ŒæŒ‰è§„åˆ™å¤„ç†
2. å›½å†…åŸŸåèµ°å›½å†… DNSï¼Œè§£æå¿«ä¸”å‡†
3. å›½å¤–åŸŸåçš„è§£æé€šè¿‡ä»£ç†å®Œæˆï¼Œå¾—åˆ°æ­£ç¡® IP

### å…³äº "DNS æ³„éœ²"

å¾ˆå¤šæ•™ç¨‹æŠŠ"DNS æ³„éœ²"æè¿°å¾—éå¸¸å¯æ€•ï¼Œä½†è¿™ä¸ªé—®é¢˜å…¶å®è¢«è¿‡åº¦æ¸²æŸ“äº†ã€‚DNS æ³„éœ²çš„æœ¬è´¨æ˜¯ï¼š**è®¿é—®å›½å¤–åŸŸåæ—¶ï¼ŒDNS æŸ¥è¯¢ç”¨çš„æ˜¯å›½å†… DNS è€Œéä»£ç†ä¾§ DNS**ï¼Œå¯èƒ½å¯¼è‡´ CDN è§£æä¸ä¼˜åŒ–ï¼ˆä½ è¿çš„æ˜¯ä»£ç†èŠ‚ç‚¹ï¼Œä½† DNS å‘Šè¯‰ CDN ä½ åœ¨ä¸­å›½ï¼ŒCDN ç»™ä½ åˆ†é…äº†å›½å†…èŠ‚ç‚¹ï¼‰ã€‚è¿™ä¼šå½±å“è®¿é—®é€Ÿåº¦ï¼Œä½†ä¸æ˜¯ä»€ä¹ˆéšç§ç¾éš¾ã€‚**å…³é”®åœ¨äºï¼šåˆ†æµè§„åˆ™å†™å¥½ï¼Œéç›´è¿æµé‡ä¸åœ¨æœ¬åœ°åš DNS è§£æï¼Œè¿™æ‰æ˜¯çœŸæ­£é‡è¦çš„ã€‚**ï¼ˆå‚è€ƒï¼š[iyyh çš„åˆ†æ](https://iyyh.net/posts/mihomo-self-config) ä¸ [SukkA çš„æ–‡ç« ](https://blog.skk.moe/post/lets-talk-about-dns-cdn-fake-ip/)ï¼‰

### fake-ip æ¨¡å¼ï¼ˆæ–°æ‰‹æ¨èï¼‰

```yaml
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  prefer-h3: true               # ä¼˜å…ˆä½¿ç”¨ HTTP/3 åè®®ï¼ˆDoH3ï¼‰ï¼Œæ›´å¿«
  enhanced-mode: fake-ip        # æ¨èæ¨¡å¼ï¼Œé€Ÿåº¦å¿«ï¼Œä¸è§„åˆ™é…åˆæœ€å¥½
  fake-ip-range: 198.18.0.1/16

  # fake-ip ç™½åå•ï¼šè¿™äº›åŸŸåä¸è¿”å›å‡ IPï¼Œç›´æ¥æ­£å¸¸è§£æ
  # ä¸»è¦æ˜¯å±€åŸŸç½‘æœåŠ¡ã€NTPã€æ¸¸æˆ STUN ç­‰ä¸é€‚åˆ fake-ip çš„åœºæ™¯
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.localhost"
    - "time.windows.com"
    - "time.nist.gov"
    - "time.apple.com"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.xboxlive.com"
    - "+.nintendo.net"

  # respect-rules: true         # DNS è§£æéµå¾ªè·¯ç”±è§„åˆ™ï¼ˆå¦‚éœ€å›½å¤–åŸŸåèµ°ä»£ç† DNSï¼Œå¼€å¯æ­¤é¡¹ï¼‰

  # è§£æä»£ç†èŠ‚ç‚¹åŸŸåç”¨çš„ DNSï¼ˆé¿å…ä»£ç†èŠ‚ç‚¹åŸŸåæœ¬èº«è¢«æ±¡æŸ“ï¼‰
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

  # é»˜è®¤ nameserverï¼šå›½å†… DNSï¼Œå¹¶å‘æŸ¥è¯¢å–æœ€å¿«ç»“æœ
  nameserver:
    - system                           # å½“åœ°è¿è¥å•† DNSï¼ˆä¸€èˆ¬æœ€å¿«ï¼‰
    - https://223.5.5.5/dns-query      # é˜¿é‡Œ DoH
    - https://doh.pub/dns-query        # è…¾è®¯ DoH
```

**ä»€ä¹ˆæ˜¯ fake-ipï¼Ÿ** mihomo æ”¶åˆ° DNS æŸ¥è¯¢æ—¶ï¼Œç«‹åˆ»è¿”å›ä¸€ä¸ªå‡ IPï¼ˆå¦‚ `198.18.0.1`ï¼‰å¹¶åœ¨å†…éƒ¨å»ºç«‹æ˜ å°„ã€‚å½“æµé‡å‘åˆ°è¿™ä¸ªå‡ IPï¼Œmihomo çŸ¥é“å®ƒå¯¹åº”çš„çœŸå®åŸŸåï¼Œç„¶åæŒ‰**åŸŸåè§„åˆ™**å†³å®šç›´è¿æˆ–èµ°ä»£ç†ã€‚è¿™æ ·è§„åˆ™åŒ¹é…åœ¨ DNS è§£æå®Œæˆä¹‹å‰å°±å‘ç”Ÿäº†ï¼Œé€Ÿåº¦æå¿«ï¼Œä¸”ä»£ç†æµé‡ä¸éœ€è¦åœ¨æœ¬åœ°åš DNS è§£æã€‚

**å…³äº `fallback` çš„é‡è¦è¯´æ˜ï¼š** å¾ˆå¤šè€æ•™ç¨‹è¦æ±‚é…ç½® `fallback`ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªå…³é”®é—®é¢˜â€”â€”ä¸€æ—¦é…ç½®äº† `fallback`ï¼Œmihomo ä¼š**ç­‰å¾… fallback DNS çš„ç»“æœ**æ‰ç»§ç»­ï¼Œå³ä½¿ `nameserver` å·²ç»è¿”å›äº†ç»“æœã€‚è¿™ä¼šä½¿æ‰€æœ‰ DNS æŸ¥è¯¢éƒ½å˜æ…¢ã€‚æ›´å¥½çš„æ–¹æ¡ˆæ˜¯ç›´æ¥ç”¨ `nameserver-policy` åˆ†åŸŸåç²¾ç»†æ§åˆ¶ï¼ˆè§ç¬¬äºŒé˜¶æ®µï¼‰ã€‚

---

## å››ã€åŸŸåå—…æ¢ï¼ˆSniffï¼‰

```yaml
sniffer:
  enable: true
  # override-destinationï¼šç”¨å—…æ¢åˆ°çš„çœŸå®åŸŸåè¦†ç›–è¿æ¥ç›®æ ‡
  # åœ¨ TUN æ¨¡å¼ä¸‹å¿…é¡»å¼€å¯ï¼Œå¦åˆ™æ‹¿åˆ°çš„æ˜¯ IPï¼ŒåŸŸåè§„åˆ™æ— æ³•åŒ¹é…
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - "Mijia Cloud"            # å°ç±³äº‘ï¼Œè·³è¿‡å—…æ¢
    - "+.push.apple.com"       # è‹¹æœæ¨é€
```

---

## äº”ã€å‡ºç«™ä»£ç†èŠ‚ç‚¹ï¼ˆproxiesï¼‰

æ‰‹å†™è‡ªå»ºèŠ‚ç‚¹ï¼Œæœºåœºç”¨æˆ·å¯ç›´æ¥è·³åˆ°ç¬¬å…­èŠ‚ç”¨ `proxy-providers`ã€‚

```yaml
proxies:
  # â”€â”€ Shadowsocks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "æˆ‘çš„SSèŠ‚ç‚¹"
    type: ss
    server: your.server.com
    port: 12345
    cipher: aes-128-gcm        # å¸¸è§åŠ å¯†ï¼šaes-128-gcm / chacha20-ietf-poly1305
    password: "your_password"
    udp: true

  # â”€â”€ VMess + WebSocket + TLS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "æˆ‘çš„VMessèŠ‚ç‚¹"
    type: vmess
    server: your.server.com
    port: 443
    uuid: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    alterId: 0                 # å»ºè®®ä¸º 0ï¼ˆAEAD æ¨¡å¼ï¼‰
    cipher: auto
    tls: true
    network: ws
    ws-opts:
      path: "/your-path"
      headers:
        Host: your.server.com

  # â”€â”€ VLESS + Realityï¼ˆå½“å‰ä¸»æµæŠ—å°é”æ–¹æ¡ˆï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "æˆ‘çš„RealityèŠ‚ç‚¹"
    type: vless
    server: your.server.com
    port: 443
    uuid: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    network: tcp
    tls: true
    flow: xtls-rprx-vision     # Reality å¿…é¡»
    client-fingerprint: chrome # TLS æŒ‡çº¹
    servername: www.apple.com  # ä¼ªè£…åŸŸåï¼ˆä¸æœåŠ¡ç«¯ä¸€è‡´ï¼‰
    reality-opts:
      public-key: "your_public_key"
      short-id: "your_short_id"
    udp: true

  # â”€â”€ Hysteria2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "æˆ‘çš„HY2èŠ‚ç‚¹"
    type: hysteria2
    server: your.server.com
    port: 443
    password: "your_password"
    sni: your.server.com
    udp: true
    skip-cert-verify: false    # ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¸º false
```

---

## å…­ã€ä»£ç†æä¾›è€…ï¼ˆproxy-providersï¼‰â€”â€” æœºåœºè®¢é˜…

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    url: "https://your-airport.com/subscribe?token=xxx"
    interval: 86400            # æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡
    path: ./proxy_providers/airport-a.yaml
    health-check:
      enable: true
      url: "https://www.gstatic.com/generate_204"
      # æ³¨æ„ï¼šä¸å»ºè®®ç”¨ google.com æµ‹é€Ÿï¼Œå¯èƒ½è§¦å‘ Google å¯¹ IP çš„é£æ§
      interval: 300
      timeout: 5000
      lazy: true               # æ‡’åŠ è½½ï¼šåªåœ¨æœ‰æµé‡æ—¶æµ‹é€Ÿï¼ŒèŠ‚çœèµ„æº
    # è¿‡æ»¤æ‰æœºåœºçš„"æµé‡å‰©ä½™/åˆ°æœŸæé†’"ç­‰ä¿¡æ¯èŠ‚ç‚¹
    filter: "^(?!.*(å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å…è´¹|è¯•ç”¨|å¥—é¤|é‡ç½®|è¿‡æœŸ|æµé‡|æ—¶é—´)).*$"
```

---

## ä¸ƒã€ä»£ç†ç»„ï¼ˆproxy-groupsï¼‰â€”â€” ç­–ç•¥æ ¸å¿ƒ

æ–°æ‰‹å¯å…ˆç”¨è¿™å¥—ç®€æ´ç»“æ„ï¼Œç†è§£é€»è¾‘åå†æ‰©å±•ã€‚

```yaml
proxy-groups:
  # é¡¶å±‚å…¥å£ï¼šæ‰‹åŠ¨é€‰å“ªä¸ªå°±ç”¨å“ªä¸ª
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    include-all: true          # include-all: true è‡ªåŠ¨åŒ…å«æ‰€æœ‰ proxy-providers çš„èŠ‚ç‚¹
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - DIRECT

  # è‡ªåŠ¨é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„èŠ‚ç‚¹
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    include-all: true
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50              # å»¶è¿Ÿå·®åœ¨ 50ms å†…ä¸è§¦å‘åˆ‡æ¢ï¼Œé¿å…æŠ–åŠ¨
    timeout: 2000
    lazy: true

  # å…œåº•ï¼šæ‰€æœ‰æœªåŒ¹é…è§„åˆ™çš„æµé‡
  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - DIRECT
```

**`include-all` è¯´æ˜ï¼š** è®¾ç½®ä¸º `true` åï¼Œä»£ç†ç»„ä¼šè‡ªåŠ¨åŒ…å«æ‰€æœ‰ `proxy-providers` é‡Œçš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¸éœ€è¦é€ä¸ªåœ¨ `use:` é‡Œåˆ—å‡º provider åå­—ã€‚å¤§å¤§ç®€åŒ–äº†é…ç½®ã€‚

---

## å…«ã€è·¯ç”±è§„åˆ™ï¼ˆrulesï¼‰

**æå…¶é‡è¦çš„è§„åˆ™é¡ºåºåŸåˆ™ï¼šæŠŠæ‰€æœ‰é IP ç±»è§„åˆ™å†™åœ¨ IP ç±»è§„åˆ™ä¹‹å‰ã€‚**

åŸå› ï¼šåœ¨ fake-ip æ¨¡å¼ä¸‹ï¼Œå½“è§„åˆ™æ˜¯åŸŸåç±»ï¼ˆå¦‚ `DOMAIN-SUFFIX`ã€`GEOSITE`ï¼‰ï¼Œmihomo ä¸éœ€è¦åš DNS è§£æå°±èƒ½åŒ¹é…ã€‚ä½†ä¸€æ—¦é‡åˆ° IP ç±»è§„åˆ™ï¼ˆ`IP-CIDR`ã€`GEOIP`ï¼‰ï¼Œmihomo å°±è¦å…ˆåš DNS è§£æå¾—åˆ°çœŸå® IP å†æ¥åŒ¹é…ã€‚ä»£ç†æµé‡ä¸åº”è¯¥åœ¨æœ¬åœ°åš DNS è§£æâ€”â€”å¦‚æœåœ¨ `GEOSITE,CN,DIRECT` ä¹‹å‰ç”¨äº† `GEOIP,CN,DIRECT`ï¼Œæ‰€æœ‰åŸŸåæµé‡éƒ½ä¼šè¢«å¼ºåˆ¶ DNS è§£æä¸€æ¬¡ï¼Œæ—¢æ…¢åˆå¯èƒ½å¼•èµ·æ±¡æŸ“ã€‚

```yaml
rules:
  # â”€â”€ é IP ç±»è§„åˆ™ï¼ˆä¸è§¦å‘ DNS è§£æï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€
  - DOMAIN,localhost,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT

  # å›½å†…åŸŸåç›´è¿ï¼ˆåŸŸåæ•°æ®åº“åŒ¹é…ï¼Œä¸è§£æ DNSï¼‰
  - GEOSITE,CN,DIRECT

  # â”€â”€ IP ç±»è§„åˆ™ï¼ˆä¼šè§¦å‘ DNS è§£æï¼Œæ”¾åœ¨æœ€åï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - GEOIP,LAN,DIRECT,no-resolve      # ç§æœ‰ IP ç›´è¿
  - GEOIP,CN,DIRECT                   # å›½å†… IP ç›´è¿

  # â”€â”€ æœ€ç»ˆå…œåº•ï¼šå¿…é¡»å­˜åœ¨ä¸”æ˜¯æœ€åä¸€æ¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

**`no-resolve` è¯´æ˜ï¼š** åœ¨ IP ç±»è§„åˆ™åé¢åŠ  `no-resolve`ï¼Œå¯¹äºè¿˜æ²¡è§£ææˆ IP çš„åŸŸåæµé‡ï¼Œç›´æ¥è·³è¿‡è¿™æ¡è§„åˆ™ï¼ˆä¸åš DNS è§£æï¼‰ï¼Œç­‰åç»­è§„åˆ™å¤„ç†ã€‚è¿™æ ·å¯ä»¥é¿å…ä¸å¿…è¦çš„ DNS æŸ¥è¯¢ã€‚

---

## ä¹ã€æœ€å°å¯ç”¨å®Œæ•´ç¤ºä¾‹

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Mihomo æœ€å°å¯ç”¨é…ç½® Â· å°ç™½èµ·æ­¥ç‰ˆ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

mixed-port: 7890
allow-lan: false
mode: rule
log-level: warning
ipv6: false
find-process-mode: strict
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome

external-controller: 127.0.0.1:9090
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

profile:
  store-selected: true
  store-fake-ip: true

geox-url:
  geoip:   "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"

# â”€â”€ DNS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  prefer-h3: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "+.stun.*.*"
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
  nameserver:
    - system
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

# â”€â”€ å—…æ¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sniffer:
  enable: true
  sniff:
    HTTP:  { ports: [80, 8080-8880], override-destination: true }
    TLS:   { ports: [443, 8443] }
    QUIC:  { ports: [443, 8443] }

# â”€â”€ ä»£ç†èŠ‚ç‚¹ï¼ˆå¡«ä½ è‡ªå·±çš„èŠ‚ç‚¹æˆ–æ”¹ç”¨ proxy-providersï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxies:
  - name: "æˆ‘çš„èŠ‚ç‚¹"
    type: ss
    server: your.server.com
    port: 12345
    cipher: aes-128-gcm
    password: "your_password"
    udp: true

# â”€â”€ æœºåœºè®¢é˜…ï¼ˆæœ‰è®¢é˜…çš„å¡«è¿™é‡Œï¼Œæ— è®¢é˜…å¯åˆ æ‰ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# proxy-providers:
#   æœºåœºA:
#     type: http
#     url: "https://your-airport.com/subscribe?token=xxx"
#     interval: 86400
#     path: ./proxy_providers/airport-a.yaml
#     health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true }

# â”€â”€ ä»£ç†ç»„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies: ["â™»ï¸ è‡ªåŠ¨é€‰æ‹©", "æˆ‘çš„èŠ‚ç‚¹", DIRECT]

  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    proxies: ["æˆ‘çš„èŠ‚ç‚¹"]
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    tolerance: 50

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies: ["ğŸš€ èŠ‚ç‚¹é€‰æ‹©", DIRECT]

# â”€â”€ è·¯ç”±è§„åˆ™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rules:
  - DOMAIN,localhost,DIRECT
  - GEOSITE,CN,DIRECT
  - GEOIP,LAN,DIRECT,no-resolve
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

**éªŒè¯æ–¹æ³•ï¼š** å¯åŠ¨ mihomo åè®¿é—® `http://127.0.0.1:9090/ui`ï¼Œèƒ½çœ‹åˆ° Web é¢æ¿å¹¶æ˜¾ç¤ºèŠ‚ç‚¹åˆ™è¯´æ˜é…ç½®åŸºæœ¬æ­£ç¡®ã€‚

---

# ç¬¬äºŒé˜¶æ®µï¼šæ–°æ‰‹ç¯‡ â€”â€” é”šç‚¹ã€è§„åˆ™é›†ã€ç²¾å‡†åˆ†æµ

**ç›®æ ‡ï¼š** ç”¨ YAML é”šç‚¹æ¶ˆé™¤é‡å¤ï¼Œç”¨è§„åˆ™é›†ä»£æ›¿æ‰‹å†™è§„åˆ™ï¼Œè®¾è®¡å®Œæ•´çš„å¤šåœ°åŒºä»£ç†ç»„ä½“ç³»ã€‚

---

## ä¸€ã€ç”¨é”šç‚¹ç»Ÿä¸€ç®¡ç† proxy-providers

```yaml
# â”€â”€ é”šç‚¹å®šä¹‰åŒºï¼ˆé”®åéšæ„ï¼Œmihomo ä¼šå¿½ç•¥ä¸è®¤è¯†çš„é¡¶å±‚é”®ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€
# è®¢é˜…æä¾›è€…åŸºç¡€å‚æ•°é”šç‚¹
p: &p
  type: http
  interval: 86400
  path: ./proxy_providers/  # æ³¨æ„ï¼šæ¯ä¸ª provider è¦æœ‰ä¸åŒçš„ pathï¼
  health-check:
    enable: true
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    timeout: 5000
    lazy: true
  filter: "^(?!.*(å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å…è´¹|è¯•ç”¨|å¥—é¤|é‡ç½®|è¿‡æœŸ|æµé‡|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$"

proxy-providers:
  æœºåœºA:
    <<: *p
    url: "https://airport-a.com/subscribe?token=xxx"
    path: ./proxy_providers/airport-a.yaml

  æœºåœºB:
    <<: *p
    url: "https://airport-b.com/subscribe?token=xxx"
    path: ./proxy_providers/airport-b.yaml
    interval: 43200           # å•ç‹¬è¦†ç›–ï¼šè¿™ä¸ªæœºåœºæ¯ 12 å°æ—¶æ›´æ–°ï¼ˆæ¯”é”šç‚¹çš„ 86400 æ›´çŸ­ï¼‰
```

---

## äºŒã€ç”¨é”šç‚¹ç»Ÿä¸€ç®¡ç† proxy-groups

è¿™æ˜¯è¿›é˜¶ç”¨æˆ·å¸¸è§çš„å†™æ³•ï¼Œæ¥è‡ª [iyyh çš„é…ç½®ä»“åº“](https://github.com/yyhhyyyyyy/selfproxy)ï¼š

```yaml
# â”€â”€ ä»£ç†ç»„åŸºç¡€å‚æ•°é”šç‚¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# æ‰‹åŠ¨é€‰æ‹©
g_select: &g_select
  type: select
  url: "https://www.gstatic.com/generate_204"
  include-all: true            # è‡ªåŠ¨åŒ…å«æ‰€æœ‰ proxy-providers çš„èŠ‚ç‚¹

# è‡ªåŠ¨æµ‹é€Ÿï¼ˆå»¶è¿Ÿæœ€ä½ï¼‰
g_urltest: &g_urltest
  type: url-test
  url: "https://www.gstatic.com/generate_204"
  interval: 300
  lazy: true
  tolerance: 50
  timeout: 2000
  max-failed-times: 3          # è¿ç»­å¤±è´¥ 3 æ¬¡è§¦å‘é‡æ–°æ£€æŸ¥
  include-all: true
  hidden: true                 # åœ¨é¢æ¿ä¸­éšè—ï¼ˆå‡å°‘ç•Œé¢å™ªéŸ³ï¼‰

# è‡ªåŠ¨å›é€€ï¼ˆå½“å‰èŠ‚ç‚¹å¤±è´¥å°±åˆ‡ä¸‹ä¸€ä¸ªï¼‰
g_fallback: &g_fallback
  type: fallback
  url: "https://www.gstatic.com/generate_204"
  interval: 300
  lazy: true
  timeout: 2000
  max-failed-times: 3
  include-all: true
  hidden: true

# è´Ÿè½½å‡è¡¡ï¼ˆä¸€è‡´æ€§æ•£åˆ—ï¼‰
g_balance: &g_balance
  type: load-balance
  strategy: consistent-hashing  # round-robin / consistent-hashing / sticky-sessions
  url: "https://www.gstatic.com/generate_204"
  interval: 300
  lazy: true
  timeout: 2000
  include-all: true
  hidden: true
```

---

## äºŒÂ·äº”ã€ğŸ“Š proxy-groups é”šç‚¹ç­–ç•¥æ·±åº¦å¯¹æ¯”

æ•™ç¨‹å‰é¢ä»‹ç»äº† iyyh çš„"é”šå®šç»„ç±»å‹å‚æ•°"é£æ ¼ã€‚è¿™é‡Œå¯¹æ¯”å¦ä¸€ç§å®Œå…¨ä¸åŒçš„è®¾è®¡ï¼š**é”šå®š proxies å€™é€‰åˆ—è¡¨**ï¼Œä»¥åŠ TheFullSmart ä¸­ä¸¤è€…ç»“åˆçš„ç»¼åˆé£æ ¼ã€‚

---

**ç­–ç•¥ä¸€ï¼šé”šå®š"ç»„ç±»å‹"ï¼ˆiyyh é£æ ¼ï¼‰**

```yaml
# é”šç‚¹å­˜å‚¨çš„æ˜¯ï¼šç»„çš„è¿è¡Œå‚æ•°ï¼ˆtype/url/interval/include-all ç­‰ï¼‰
g_urltest: &g_urltest
  type: url-test
  url: "https://www.gstatic.com/generate_204"
  interval: 300
  include-all: true
  hidden: true

# ä½¿ç”¨æ—¶é€šè¿‡ filter å†³å®šèŠ‚ç‚¹èŒƒå›´ï¼Œproxies æ‰‹åŠ¨æŒ‡å®šè·³è½¬ç›®æ ‡
- { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", <<: *g_urltest, filter: *FilterHK }
- { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", <<: *g_urltest, filter: *FilterSG }
```

---

**ç­–ç•¥äºŒï¼šé”šå®š"proxies å€™é€‰åˆ—è¡¨"ï¼ˆTheFullSmart é£æ ¼ï¼Œæ¥æºï¼šHenryChiao/MIHOMO_AIOï¼‰**

```yaml
# é”šç‚¹å­˜å‚¨çš„æ˜¯ï¼šåŠŸèƒ½ç»„çš„å®Œæ•´å€™é€‰è·³è½¬åˆ—è¡¨ï¼ˆä¸åŒä¼˜å…ˆçº§æœ‰ä¸åŒåˆ—è¡¨ï¼‰
SelectFB: &SelectFB {type: select, proxies: [æ•…éšœè½¬ç§», é¦™æ¸¯ç­–ç•¥, ç‹®åŸç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ¬§ç›Ÿç­–ç•¥, å†·é—¨è‡ªé€‰, å…¨çƒæ‰‹åŠ¨, ç›´æ¥è¿æ¥]}
SelectPY: &SelectPY {type: select, proxies: [é»˜è®¤ä»£ç†, æ•…éšœè½¬ç§», é¦™æ¸¯ç­–ç•¥, ç‹®åŸç­–ç•¥, æ—¥æœ¬ç­–ç•¥, éŸ©å›½ç­–ç•¥, ç¾å›½ç­–ç•¥, å°æ¹¾ç­–ç•¥, æ¬§ç›Ÿç­–ç•¥, å†·é—¨è‡ªé€‰, å…¨çƒæ‰‹åŠ¨, ç›´æ¥è¿æ¥]}
SelectDC: &SelectDC {type: select, proxies: [ç›´æ¥è¿æ¥, é»˜è®¤ä»£ç†, æ•…éšœè½¬ç§», é¦™æ¸¯ç­–ç•¥, ...]}  # ç›´è¿ä¼˜å…ˆ
SelectHK: &SelectHK {type: select, proxies: [é¦™æ¸¯ç­–ç•¥, é»˜è®¤ä»£ç†, æ•…éšœè½¬ç§», ç‹®åŸç­–ç•¥, ...]}  # é¦™æ¸¯ä¼˜å…ˆ
SelectUS: &SelectUS {type: select, proxies: [ç¾å›½ç­–ç•¥, é»˜è®¤ä»£ç†, æ•…éšœè½¬ç§», é¦™æ¸¯ç­–ç•¥, ...]}  # ç¾å›½ä¼˜å…ˆ

# ä½¿ç”¨æ—¶ä¸€è¡Œç»§æ‰¿ï¼ŒåŠŸèƒ½ç»„é…ç½®æåº¦ç®€æ´
- {name: æ²¹ç®¡è§†é¢‘, <<: *SelectPY, icon: "..."}   # é»˜è®¤ä»£ç†ä¼˜å…ˆ
- {name: äººå·¥æ™ºèƒ½, <<: *SelectUS, icon: "..."}   # ç¾å›½ä¼˜å…ˆ
- {name: å›½å†…æµé‡, <<: *SelectDC, icon: "..."}   # ç›´è¿ä¼˜å…ˆ
- {name: æ–°é—»åª’ä½“, <<: *SelectUS, icon: "..."}   # ç¾å›½ä¼˜å…ˆ
```

ä¸åŒåŠŸèƒ½æœåŠ¡æœ‰ä¸åŒçš„é¦–é€‰åœ°åŒºï¼Œé€šè¿‡ **å¤šå¥— SelectXX é”šç‚¹**ï¼ŒåŠŸèƒ½ç»„åªéœ€ä¸€è¡Œ `<<: *SelectUS` å°±èƒ½è¡¨è¾¾"è¿™ä¸ªæœåŠ¡ä¼˜å…ˆèµ°ç¾å›½"ï¼Œæ— éœ€é‡å¤å†™ proxies åˆ—è¡¨ã€‚

| å¯¹æ¯”é¡¹ | iyyhï¼ˆé”šå®šç»„ç±»å‹ï¼‰| TheFullSmartï¼ˆé”šå®š proxies åˆ—è¡¨ï¼‰|
|--------|------------------|----------------------------------|
| é”šç‚¹å­˜å‚¨å†…å®¹ | è¿è¡Œå‚æ•°ï¼ˆtype/interval/urlï¼‰| è·³è½¬ç›®æ ‡åˆ—è¡¨ï¼ˆproxies ä¼˜å…ˆé¡ºåºï¼‰|
| åŠŸèƒ½ç»„ä¸ªæ€§åŒ– | æ¯ä¸ªåŠŸèƒ½ç»„æ‰‹å†™ proxies åˆ—è¡¨ | ç”¨ä¸åŒ SelectXX é”šç‚¹è¡¨è¾¾ä¼˜å…ˆçº§ |
| åœ°åŒºç»„ä¸ªæ€§åŒ– | ç»Ÿä¸€ include-all + filter | éœ€ include-all + filter ä¸”åœ¨åŠŸèƒ½å±‚é€šè¿‡ Select é”šç‚¹é—´æ¥é€‰åœ°åŒº |
| ç»´æŠ¤æ›´æ–° | åŠ åœ°åŒºåªæ”¹åœ°åŒºå±‚ | åŠ åœ°åŒºè¦åŒæ­¥æ›´æ–°æ¯ä¸ª SelectXX é”šç‚¹ |
| é€‚ç”¨åœºæ™¯ | æœåŠ¡éœ€æ±‚ç®€å•ã€åœ°åŒºè¾ƒå°‘ | æœ‰æ˜ç¡®åœ°åŒºåå¥½ï¼ˆAIâ†’ç¾ã€æµåª’ä½“â†’æ¸¯ï¼‰çš„ç²¾ç»†åˆ†æµ |

---

**ç­–ç•¥ä¸‰ï¼šä¸¤å±‚åœ°åŒºç»„æ¶æ„â€”â€”`ç­–ç•¥` å…¥å£ + `æ™ºèƒ½` åº•å±‚**

è¿™æ˜¯ TheFullSmart ä¸ iyyh æœ€æ˜¾è‘—çš„æ¶æ„å·®å¼‚ï¼š

```yaml
# iyyh é£æ ¼ï¼šåœ°åŒºä¸‰åˆä¸€ï¼Œç”¨æˆ·è¿›å…¥"é¦™æ¸¯"åæ‰‹é€‰"è‡ªåŠ¨/å›é€€/å‡è¡¡"
- {name: "ğŸ‡­ğŸ‡° é¦™æ¸¯", type: select, proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡"]}
- {name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", <<: *g_urltest, filter: *FilterHK}
- {name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", <<: *g_fallback, filter: *FilterHK}
- {name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡", <<: *g_balance, filter: *FilterHK}

# TheFullSmart é£æ ¼ï¼šåœ°åŒºä¸¤å±‚ï¼Œå…¥å£å±‚å…è®¸æ‰‹é€‰ä¸ªåˆ«èŠ‚ç‚¹ï¼Œåº•å±‚ç”¨ smart è‡ªåŠ¨
- {name: é¦™æ¸¯ç­–ç•¥, type: select, proxies: [é¦™æ¸¯æ™ºèƒ½], include-all: true, filter: *FilterHK}
  # â†‘ å…¥å£å±‚ï¼šå¹³æ—¶èµ°"é¦™æ¸¯æ™ºèƒ½"è‡ªåŠ¨ï¼Œä¹Ÿå¯æ‰‹é€‰æŸä¸ªå…·ä½“èŠ‚ç‚¹ï¼ˆåº”æ€¥ç”¨ï¼‰

- {name: é¦™æ¸¯æ™ºèƒ½, <<: *BaseSmart, include-all: true, filter: *FilterHK,
   policy-priority: 'ä¼˜:2;ä¸­:1;å¤‡:0.2'}
  # â†‘ åº•å±‚ï¼štype: smart è‡ªåŠ¨å†³ç­–ï¼Œhidden å¯¹é¢æ¿éšè—
```

---

**`type: smart` ç»„â€”â€”TheFullSmart çš„æ ¸å¿ƒç‰¹æ€§ï¼ˆæ•™ç¨‹å…¶ä»–åœ°æ–¹å‡æœªæåŠï¼‰**

`type: smart` æ˜¯ mihomo ç‰¹æœ‰çš„ä»£ç†ç»„ç±»å‹ï¼Œä½¿ç”¨æœºå™¨å­¦ä¹ ï¼ˆLightGBMï¼‰æ¨¡å‹æ ¹æ®èŠ‚ç‚¹å†å²è¡¨ç°è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯ç®€å•æŒ‰å»¶è¿Ÿæ’åºï¼š

```yaml
BaseSmart: &BaseSmart
  type: smart
  interval: 200
  lazy: true
  url: 'https://www.google.com/generate_204'
  hidden: true
  uselightgbm: true    # å¯ç”¨ LightGBM æ¨¡å‹ï¼ˆéœ€è¦ mihomo æ”¯æŒè¯¥ç‰¹æ€§ï¼‰

# å…³é”®ç‰¹æœ‰å‚æ•°ï¼špolicy-priority
# æ ¼å¼ï¼š'èŠ‚ç‚¹åå…³é”®è¯:æƒé‡' ç”¨åˆ†å·åˆ†éš”
# æƒé‡è¶Šå¤§ï¼Œè¯¥å…³é”®è¯åŒ¹é…çš„èŠ‚ç‚¹ä¼˜å…ˆçº§è¶Šé«˜
- {name: é¦™æ¸¯æ™ºèƒ½, <<: *BaseSmart, filter: *FilterHK, include-all: true,
   policy-priority: 'ä¼˜:2;ä¸­:1;å¤‡:0.2'}
# æ•ˆæœï¼šèŠ‚ç‚¹åå«"ä¼˜"çš„æƒé‡æ˜¯"å¤‡"çš„ 10 å€ï¼Œsmart æ¨¡å‹ä¼šæ›´å€¾å‘é€‰"ä¼˜"è´¨èŠ‚ç‚¹
# é€‚åˆæœ‰å¤šæœºåœºä¸”æŒ‰åç§°å‰ç¼€æ ‡æ³¨è´¨é‡çš„ç”¨æˆ·ï¼ˆé…åˆ override.additional-prefix ä½¿ç”¨ï¼‰
```

`policy-priority` ä¸ `override.additional-prefix` é…åˆä½¿ç”¨æ•ˆæœæœ€å¥½ï¼š

```yaml
proxy-providers:
  ä¼˜è´¨æœºåœº: {<<: *BaseProvider, url: "...", override: {additional-prefix: '[ä¼˜] '}}
  å¤‡ç”¨æœºåœº: {<<: *BaseProvider, url: "...", override: {additional-prefix: '[å¤‡] '}}

# è¿™æ ·èŠ‚ç‚¹åå˜æˆ "[ä¼˜] é¦™æ¸¯01" / "[å¤‡] é¦™æ¸¯01"
# policy-priority: 'ä¼˜:2;å¤‡:0.2' å³å¯æŒ‰è´¨é‡åŠ æƒ
```

| å¯¹æ¯”é¡¹ | `url-test` | `fallback` | `load-balance` | `smart` |
|--------|------------|------------|----------------|---------|
| é€‰èŠ‚ç‚¹é€»è¾‘ | æœ€ä½å»¶è¿Ÿ | æŒ‰é¡ºåºå›é€€ | å¤šèŠ‚ç‚¹åˆ†æµ | ML ç»¼åˆå†å²è¡¨ç° |
| é€‚åº”æŠ–åŠ¨ | å·®ï¼ˆé¢‘ç¹åˆ‡æ¢ï¼‰| å·®ï¼ˆå›ºå®šé¡ºåºï¼‰| ä¸­ | âœ… å¥½ï¼ˆæœ‰è®°å¿†ï¼‰|
| æµé‡åˆ†å¸ƒ | å…¨èµ°æœ€å¿« | å…¨èµ°é¦–ä¸ªå¯ç”¨ | å‡æ‘Š | æŒ‰è´¨é‡æƒé‡åˆ†é… |
| `policy-priority` | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| éœ€è¦ mihomo ç‰ˆæœ¬ | é€šç”¨ | é€šç”¨ | é€šç”¨ | éœ€æ”¯æŒ smart ç‰¹æ€§ |
| é€‚åˆåœºæ™¯ | å»¶è¿Ÿä¼˜å…ˆ | ç¨³å®šæ€§ä¼˜å…ˆ | å¤§æµé‡åˆ†æµ | å¤šæœºåœºè´¨é‡åˆ†å±‚ |

> **æ³¨æ„ï¼š** `type: smart` å’Œ `uselightgbm: true` æ˜¯ mihomo çš„æ‰©å±•ç‰¹æ€§ï¼Œéœ€è¦è¾ƒæ–°ç‰ˆæœ¬ã€‚å¦‚æœç‰ˆæœ¬ä¸æ”¯æŒï¼Œé…ç½®ä¼šæŠ¥é”™æˆ–é™çº§ã€‚ä½¿ç”¨å‰ç¡®è®¤å†…æ ¸ç‰ˆæœ¬ã€‚

---

## ä¸‰ã€èŠ‚ç‚¹è¿‡æ»¤æ­£åˆ™è¡¨è¾¾å¼

å¥½çš„ filter æ­£åˆ™æ˜¯ä»£ç†ç»„å·¥ä½œçš„åŸºç¡€ã€‚æ¥è‡ªç¤¾åŒºå®è·µçš„å®Œæ•´ç‰ˆæœ¬ï¼š

```yaml
# åœ¨é”šç‚¹åŒºå®šä¹‰èŠ‚ç‚¹ç­›é€‰æ­£åˆ™ï¼ˆYAML é”šç‚¹ä¹Ÿå¯ä»¥å­˜å‚¨å­—ç¬¦ä¸²ï¼‰
FilterHK: &FilterHK '^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong Kong))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterTW: &FilterTW '^(?=.*(ğŸ‡¹ğŸ‡¼|å°|TW|Taiwan))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterJP: &FilterJP '^(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|Tokyo|Osaka))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterSG: &FilterSG '^(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|SG|Singapore))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterUS: &FilterUS '^(?=.*(ğŸ‡ºğŸ‡¸|ç¾|US|United States|Los Angeles|Silicon|Seattle))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterKR: &FilterKR '^(?=.*(ğŸ‡°ğŸ‡·|éŸ©|KR|Korea))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´|æµé‡|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|é¢‘é“|è¯•ç”¨|å¥—é¤|\d{4}-\d{2}-\d{2}|\d+G)).*$'
```

**æ­£åˆ™è¯´æ˜ï¼š**
- `(?=.*(å…³é”®è¯))` â†’ æ­£å‘å‰ç»ï¼Œè¦æ±‚å­—ç¬¦ä¸²ä¸­**åŒ…å«**è¿™äº›è¯
- `(?!.*(å…³é”®è¯))` â†’ è´Ÿå‘å‰ç»ï¼Œè¦æ±‚å­—ç¬¦ä¸²ä¸­**ä¸åŒ…å«**è¿™äº›è¯
- ä¸¤è€…ç»„åˆï¼š**å¿…é¡»å«æœ‰åœ°åŒºè¯**ä¸”**ä¸èƒ½å«æœ‰åƒåœ¾è¯**

---

## ä¸‰Â·ä¸€ã€ğŸ“Š Filter æ­£åˆ™å†™æ³•æµæ´¾å¯¹æ¯”

ä¸åŒé…ç½®åœ¨æ­£åˆ™ç»†èŠ‚ä¸Šå·®å¼‚å¾ˆå¤§ï¼Œè¦†ç›–ç²¾åº¦ã€å¯ç»´æŠ¤æ€§ã€è¯¯æ€ç‡å„æœ‰ä¾§é‡ã€‚

---

**é£æ ¼ Aï¼šiyyh é£æ ¼â€”â€”ä¸­æ–‡å…³é”®è¯ + Emoji ä¸ºä¸»**

```yaml
FilterHK: &FilterHK '^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong Kong))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterJP: &FilterJP '^(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|Tokyo|Osaka))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
FilterUS: &FilterUS '^(?=.*(ğŸ‡ºğŸ‡¸|ç¾|US|United States|Los Angeles|Silicon|Seattle))(?!.*(å›å›½|æ ¡å›­|æ¸¸æˆ|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ|æ—¶é—´)).*$'
```

ä¼˜ç‚¹ï¼šæ’é™¤è¯è¯¦å°½ï¼Œè¯¯æ€ç‡ä½ï¼Œå¯è¯»æ€§å¥½ï¼Œä¾¿äºäººå·¥æ£€æŸ¥ã€‚ç¼ºç‚¹ï¼šåªåŒ¹é…å°‘é‡åŸå¸‚åï¼Œæœºåœºç”¨ IATA ä»£ç å‘½åçš„èŠ‚ç‚¹å®¹æ˜“æ¼æ‰ï¼›ä¸åŠ  `(?i)` å¤§å°å†™æ•æ„Ÿï¼Œ`HK`/`hk` éƒ½è¦æ‰‹å†™ã€‚

---

**é£æ ¼ Bï¼šTheFullSmart é£æ ¼â€”â€”`(?i)` å†…è” + IATA æœºåœºä»£ç ï¼ˆæ¥æºï¼šHenryChiao/MIHOMO_AIOï¼‰**

```yaml
FilterHK: &FilterHK '^(?=.*(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong|HKG))(?!.*(æ’é™¤1|æ’é™¤2|5x)).*$'
FilterJP: &FilterJP '^(?=.*(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan|NRT|HND|KIX|CTS|FUK))(?!.*(å°¼æ—¥åˆ©äºš|æ’é™¤1|5x)).*$'
FilterUS: &FilterUS '^(?=.*(?i)(ç¾|ğŸ‡ºğŸ‡¸|US|USA|JFK|SJC|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD))(?!.*(Plus|Australia|5x)).*$'

# "å…¶ä»–åœ°åŒº"ä¸“ç”¨ FilterOTï¼šçº¯æ’é™¤å¼ï¼Œä¸å†™ç™½åå•ï¼Œåªæ’é™¤å·²çŸ¥åœ°åŒº
FilterOT: &FilterOT '^(?!.*(DIRECT|ç›´æ¥|ç¾|æ¸¯|å°|æ—¥|éŸ©|æ¬§|ğŸ‡­ğŸ‡°|ğŸ‡ºğŸ‡¸|ğŸ‡¯ğŸ‡µ|HK|TW|SG|JP|KR|US|NRT|LAX|HKG|TPE|SIN))'

# "å…¨éƒ¨æœ‰æ•ˆèŠ‚ç‚¹" FilterALï¼šåªæ’é™¤åƒåœ¾/ä¿¡æ¯èŠ‚ç‚¹ï¼Œä¸åŒºåˆ†åœ°åŒº
FilterAL: &FilterAL '^(?!.*(DIRECT|ç›´æ¥|ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|è¿‡æœŸ|é‚®ç®±|å·¥å•|USE|TOTAL|EXPIRE|Panel|Author))'
```

`FilterOT` æ˜¯ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„è®¾è®¡ï¼šå®ƒç”¨çº¯è´Ÿå‘æ¨¡å¼ï¼ŒæŠŠæ‰€æœ‰ä¸åœ¨å·²çŸ¥åœ°åŒºé‡Œçš„èŠ‚ç‚¹éƒ½å…œä½ï¼Œç”¨æ¥æ„å»º"å†·é—¨åœ°åŒº"ç»„ï¼Œä¸éœ€è¦é€ä¸€åˆ—ä¸¾å°ä¼—å›½å®¶ã€‚

| ç‰¹æ€§ | iyyh é£æ ¼ | TheFullSmart é£æ ¼ |
|------|-----------|-------------------|
| å¤§å°å†™å¤„ç† | æ‰‹å†™å¤§å°å†™å˜ä½“ | `(?i)` å†…è”ï¼Œè‡ªåŠ¨ä¸åŒºåˆ†å¤§å°å†™ |
| æœºåœºä»£ç è¦†ç›– | å°‘é‡åŸå¸‚å | IATA ä¸‰å­—ç ï¼ˆNRT/LAX/HKG ç­‰ï¼‰ï¼Œè¦†ç›–ç‡æ›´é«˜ |
| æ’é™¤è¯ç­–ç•¥ | è¯¦å°½ä¸­æ–‡åƒåœ¾è¯åˆ—è¡¨ | å ä½ç¬¦ + å€ç‡è¯ï¼ˆ`5x`ï¼‰ï¼Œéœ€é’ˆå¯¹è‡ªå·±æœºåœºä¿®æ”¹ |
| "å…¶ä»–åœ°åŒº"å¤„ç† | å½’å…¥æ¼ç½‘ä¹‹é±¼ | ä¸“ç”¨ `FilterOT` è´Ÿå‘æ•æ‰ |
| "å…¨éƒ¨èŠ‚ç‚¹"å¤„ç† | æ— ä¸“ç”¨ filter | `FilterAL` åªæ’åƒåœ¾è¯ï¼Œè¦†ç›–æ‰€æœ‰æœ‰æ•ˆèŠ‚ç‚¹ |
| æ¬§ç›Ÿè¦†ç›– | ä¸å•ç‹¬å»ºç»„ | ç©·ä¸¾å¼ `FilterEU`ï¼Œä¸­æ–‡+Emoji+IATA å…¨è¦†ç›– |

> **å®é™…ä½¿ç”¨æç¤ºï¼š** TheFullSmart é£æ ¼ä¸­çš„æ’é™¤è¯ `æ’é™¤1`/`æ’é™¤2`/`5x` éƒ½æ˜¯å ä½ç¬¦ï¼Œä½¿ç”¨å‰éœ€æ›¿æ¢æˆè‡ªå·±æœºåœºé‡Œå®é™…éœ€è¦æ’é™¤çš„å…³é”®è¯ï¼ˆå¦‚å€ç‡èŠ‚ç‚¹åç§°ã€ç‰¹å®šå¥—é¤å‰ç¼€ç­‰ï¼‰ã€‚

---

## ä¸‰Â·äº”ã€ğŸ“Š èŠ‚ç‚¹å¼•å…¥æ–¹å¼å¯¹æ¯”ï¼š`use` / `include-all` / åŒå±‚ `filter`

è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“æ··æ·†çš„åœ°æ–¹ã€‚å¾€ proxy-group é‡Œå¼•å…¥èŠ‚ç‚¹ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œå®ƒä»¬åœ¨è¡Œä¸ºã€çµæ´»æ€§å’Œç»´æŠ¤æ€§ä¸Šå·®å¼‚æ˜¾è‘—ã€‚

---

**æ–¹å¼ä¸€ï¼š`use` æ˜¾å¼æŒ‡å®š provider**

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    url: "..."
    filter: "(?i)æ¸¯|HK"   # â† provider å±‚è¿‡æ»¤ï¼šè®¢é˜…æ‹‰ä¸‹æ¥ååªä¿ç•™é¦™æ¸¯èŠ‚ç‚¹

proxy-groups:
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨"
    type: url-test
    use: [æœºåœºA]           # åªå¼•å…¥æœºåœºAï¼Œä¸å¼•å…¥æœºåœºB
    url: "https://www.gstatic.com/generate_204"
    interval: 300
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| ç²¾ç¡®æ§åˆ¶ | æ˜ç¡®çŸ¥é“å“ªä¸ª group ç”¨å“ªä¸ª providerï¼Œä¸ä¼šæ„å¤–å¼•å…¥å¤šä½™èŠ‚ç‚¹ |
| é€‚åˆå¤šæœºåœºæœ‰å·®å¼‚æ—¶ | æœºåœºAä¸“é—¨æ”¾åœ°åŒºAï¼ŒæœºåœºBä¸“é—¨æ”¾åœ°åŒºBï¼Œäº’ä¸å¹²æ‰° |
| ç¼ºç‚¹ | æ¯ä¸ª group éƒ½è¦æ‰‹å†™ `use: [æœºåœºå]`ï¼Œprovider å¤šæ—¶å¾ˆç¹ç |

---

**æ–¹å¼äºŒï¼š`include-all: true`ï¼ˆæ¨èä¸»æµç”¨æ³•ï¼‰**

```yaml
proxy-groups:
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨"
    type: url-test
    include-all: true      # è‡ªåŠ¨åŒ…å«æ‰€æœ‰ proxies æ®µçš„èŠ‚ç‚¹ + æ‰€æœ‰ proxy-providers çš„èŠ‚ç‚¹
    filter: "(?i)æ¸¯|HK"   # â† group å±‚è¿‡æ»¤ï¼šä»å…¨éƒ¨èŠ‚ç‚¹é‡Œç­›å‡ºé¦™æ¸¯çš„
    url: "https://www.gstatic.com/generate_204"
    interval: 300
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| æœ€çœäº‹ | æ–°åŠ ä¸€ä¸ª provider åï¼Œæ‰€æœ‰ group è‡ªåŠ¨åŒ…å«ï¼Œä¸éœ€è¦æ”¹ group é…ç½® |
| filter åœ¨ group å±‚ | provider é‡Œä¿ç•™æ‰€æœ‰èŠ‚ç‚¹ï¼Œç”± group è‡ªå·±ç­›é€‰ï¼Œçµæ´»æ€§æœ€é«˜ |
| ç¼ºç‚¹ | å¦‚æœæŸä¸ª provider é‡Œæœ‰é‡åèŠ‚ç‚¹ï¼Œä¼šå‡ºç°å†²çª |
| æ³¨æ„ | `include-all` = `include-all-proxies` + `include-all-providers`ï¼Œå¯åˆ†åˆ«å•ç‹¬ä½¿ç”¨ |

---

**æ–¹å¼ä¸‰ï¼šprovider å±‚ filter + group å±‚ filter åŒé‡è¿‡æ»¤**

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    url: "..."
    # provider å±‚ï¼šå…ˆæ’é™¤ä¿¡æ¯èŠ‚ç‚¹ï¼ˆå‰©ä½™æµé‡ã€åˆ°æœŸæé†’ç­‰ï¼‰
    filter: "^(?!.*(å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|è¿‡æœŸ|æµé‡)).*$"

proxy-groups:
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨"
    type: url-test
    include-all: true
    # group å±‚ï¼šå†ä»"å·²å‡€åŒ–"çš„èŠ‚ç‚¹é‡Œç­›å‡ºé¦™æ¸¯
    filter: "(?i)æ¸¯|HK|Hong Kong"
    url: "https://www.gstatic.com/generate_204"
    interval: 300
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| æœ€å¹²å‡€ | provider å±‚è¿‡æ»¤æ‰åƒåœ¾èŠ‚ç‚¹ï¼ˆå®ƒä»¬ä¸ä¼šè¢«ä»»ä½• group å¼•ç”¨ï¼‰ï¼Œgroup å±‚å†æŒ‰åœ°åŒºç­›é€‰ |
| è´£ä»»åˆ†ç¦»æ¸…æ™° | provider ç®¡"å‡€åŒ–"ï¼Œgroup ç®¡"åˆ†ç±»" |
| æ¨èå†™æ³• | è¿™æ˜¯ç›®å‰ç¤¾åŒºä¸­æœ€å¸¸è§çš„æœ€ä½³å®è·µ |
| ç¼ºç‚¹ | æ­£åˆ™è¦å†™ä¸¤å¥—ï¼Œåˆæ¬¡ä¸Šæ‰‹ç¨ç¹ç |

---

**æ–¹å¼å››ï¼š`exclude-filter` + `exclude-type`ï¼ˆç»„åˆæ’é™¤ï¼‰**

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    url: "..."
    exclude-filter: "å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å…è´¹|è¯•ç”¨"   # æ’é™¤å«è¿™äº›è¯çš„èŠ‚ç‚¹
    exclude-type: "ss|http"                      # æ’é™¤ ss å’Œ http åè®®çš„èŠ‚ç‚¹ï¼ˆç±»å‹ç²¾ç¡®åŒ¹é…ï¼‰

proxy-groups:
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨"
    type: url-test
    include-all: true
    filter: "(?i)æ¸¯|HK"
    exclude-filter: "IPLC|ä¸“çº¿"    # group å±‚å†æ’é™¤ IPLC ä¸“çº¿ï¼ˆé˜²æ­¢è¿‡è½½ï¼‰
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| `filter` vs `exclude-filter` | filter æ˜¯"ç™½åå•"ï¼ˆåªç•™åŒ¹é…çš„ï¼‰ï¼Œexclude-filter æ˜¯"é»‘åå•"ï¼ˆæ’é™¤åŒ¹é…çš„ï¼‰ |
| `exclude-type` | æŒ‰åè®®ç±»å‹æ’é™¤ï¼Œä¸æ”¯æŒæ­£åˆ™ï¼Œç”¨ `|` åˆ†éš”ï¼Œå¦‚ `ss|vmess|http` |
| ä¸¤è€…å¯ä»¥åŒæ—¶ä½¿ç”¨ | filter + exclude-filter ç»„åˆï¼Œå…ˆç”¨ filter åœˆèŒƒå›´ï¼Œå†ç”¨ exclude-filter ç²¾ç»†å‰”é™¤ |
| æ³¨æ„ | `exclude-type` åœ¨ provider å’Œ group ä¸­å‡å¯ä½¿ç”¨ï¼Œä½†å«ä¹‰ç•¥æœ‰ä¸åŒï¼ˆè¯¦è§å®˜æ–¹æ–‡æ¡£ï¼‰ |

---

**æ–¹å¼äº”ï¼š`override` æ‰¹é‡è¦†ç›–èŠ‚ç‚¹å±æ€§**

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    url: "..."
    override:
      additional-prefix: "[ä¼˜] "    # ç»™æ‰€æœ‰èŠ‚ç‚¹ååŠ å‰ç¼€ï¼Œå¤šæœºåœºæ—¶ä¾¿äºåŒºåˆ†æ¥æº
      additional-suffix: " | A"     # åŒæ—¶ä¹Ÿå¯åŠ åç¼€
      udp: true                     # å¼ºåˆ¶å¼€å¯æ‰€æœ‰èŠ‚ç‚¹çš„ UDPï¼ˆå³ä½¿èŠ‚ç‚¹æœ¬èº«æ²¡é…ï¼‰
      skip-cert-verify: false       # å¼ºåˆ¶å…³é—­ä¸å®‰å…¨çš„è¯ä¹¦è·³è¿‡
      # proxy-name å¯ä»¥ç”¨æ­£åˆ™æ‰¹é‡æ”¹å
      proxy-name:
        - pattern: "IPLC-(.*?)å€"   # åŒ¹é…ç±»ä¼¼ "IPLC-3å€" çš„èŠ‚ç‚¹å
          target: "iplc x $1"       # æ”¹ä¸º "iplc x 3"
```

**`additional-prefix` çš„å…¸å‹ä½¿ç”¨åœºæ™¯ï¼ˆå¤šæœºåœºåŒºåˆ†æ¥æºï¼‰ï¼š**

```yaml
proxy-providers:
  ä¼˜è´¨æœºåœº:
    type: http
    url: "..."
    override:
      additional-prefix: "[ä¼˜] "   # èŠ‚ç‚¹æ˜¾ç¤ºä¸º "[ä¼˜] é¦™æ¸¯01"

  å¤‡ç”¨æœºåœº:
    type: http
    url: "..."
    override:
      additional-prefix: "[å¤‡] "   # èŠ‚ç‚¹æ˜¾ç¤ºä¸º "[å¤‡] é¦™æ¸¯01"

# è¿™æ ·åœ¨ group é¢æ¿é‡ŒåŒåèŠ‚ç‚¹ä¹Ÿèƒ½åŒºåˆ†æ¥æº
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| è§£å†³å¤šæœºåœºåŒåèŠ‚ç‚¹å†²çª | åŠ  prefix/suffix åèŠ‚ç‚¹åå”¯ä¸€ï¼Œä¸ä¼šå‡ºç°å¼•ç”¨æ­§ä¹‰ |
| æ‰¹é‡ç»Ÿä¸€èŠ‚ç‚¹å‚æ•° | ä¸éœ€è¦é€ä¸ªèŠ‚ç‚¹è®¾ç½® `udp: true`ï¼Œåœ¨ provider å±‚ä¸€æ¬¡æå®š |
| proxy-name æ­£åˆ™æ”¹å | å¯ä»¥æŠŠæœºåœºèŠ‚ç‚¹çš„ä¹±å‘½åæ ‡å‡†åŒ–ï¼Œä¾¿äº filter æ­£åˆ™åŒ¹é… |
| ç¼ºç‚¹ | åŠ äº† prefix ä¹‹åï¼Œfilter æ­£åˆ™ä¹Ÿè¦è€ƒè™‘ prefix éƒ¨åˆ†ï¼ˆå¦‚ `[ä¼˜] é¦™æ¸¯01` é‡Œçš„ `[ä¼˜] `ï¼‰|

---

## å››ã€å®Œæ•´ä»£ç†ç»„è®¾è®¡

```yaml
proxy-groups:
  # â”€â”€ é¡¶å±‚ä¸»å…¥å£ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies:
      - "ğŸŒ æ™ºèƒ½é€‰æ‹©"
      - "âœ‹ æ‰‹åŠ¨é€‰æ‹©"
      - DIRECT
    include-all: true

  # â”€â”€ äºŒçº§å…¥å£ï¼šæ™ºèƒ½ vs æ‰‹åŠ¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "ğŸŒ æ™ºèƒ½é€‰æ‹©"
    type: select
    proxies:
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯"
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"
      - "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½"
      - "ğŸ‡°ğŸ‡· éŸ©å›½"
      - "ğŸ‡¹ğŸ‡¼ å°æ¹¾"

  - name: "âœ‹ æ‰‹åŠ¨é€‰æ‹©"
    <<: *g_select

  # â”€â”€ åŠŸèƒ½æ€§åˆ†ç»„ï¼ˆæŒ‡å‘å…·ä½“åœ°åŒºï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - name: "ğŸ¤– AI æœåŠ¡"
    type: select
    proxies: ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"]

  - name: "ğŸ“¹ æµåª’ä½“"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"]

  - name: "âœˆï¸ ç”µæŠ¥æ¶ˆæ¯"
    type: select
    proxies: ["ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡­ğŸ‡° é¦™æ¸¯"]

  - name: "ğŸ è‹¹æœæœåŠ¡"
    type: select
    proxies: [DIRECT, "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡­ğŸ‡° é¦™æ¸¯"]

  - name: "â“‚ï¸ å¾®è½¯æœåŠ¡"
    type: select
    proxies: [DIRECT, "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡ºğŸ‡¸ ç¾å›½"]

  - name: "ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª"
    type: select
    proxies: [REJECT, DIRECT]     # REJECT = ç›´æ¥æ‹¦æˆªï¼›REJECT-DROP = é™é»˜ä¸¢å¼ƒ

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies: ["ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", DIRECT]

  # â”€â”€ åœ°åŒºç»„ï¼šæ¯ä¸ªåœ°åŒºéƒ½æœ‰"è‡ªåŠ¨æµ‹é€Ÿ / è‡ªåŠ¨å›é€€ / è´Ÿè½½å‡è¡¡"ä¸‰åˆä¸€ â”€â”€
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡"]

  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"
    type: select
    proxies: ["ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å›é€€", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å‡è¡¡"]

  - name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"
    type: select
    proxies: ["ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å›é€€", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å‡è¡¡"]

  - name: "ğŸ‡ºğŸ‡¸ ç¾å›½"
    type: select
    proxies: ["ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨", "ğŸ‡ºğŸ‡¸ ç¾å›½-å›é€€", "ğŸ‡ºğŸ‡¸ ç¾å›½-å‡è¡¡"]

  - name: "ğŸ‡°ğŸ‡· éŸ©å›½"
    type: select
    proxies: ["ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨", "ğŸ‡°ğŸ‡· éŸ©å›½-å›é€€", "ğŸ‡°ğŸ‡· éŸ©å›½-å‡è¡¡"]

  - name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾"
    type: select
    proxies: ["ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨", "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å›é€€", "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å‡è¡¡"]

  # â”€â”€ åœ°åŒºè‡ªåŠ¨æµ‹é€Ÿï¼ˆç”¨é”šç‚¹ + èŠ±æ‹¬å·å•è¡Œï¼Œæç®€å†™æ³•ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", <<: *g_urltest,  filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterTW }

  # â”€â”€ åœ°åŒºè‡ªåŠ¨å›é€€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€",   <<: *g_fallback, filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å›é€€", <<: *g_fallback, filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å›é€€",   <<: *g_fallback, filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-å›é€€",   <<: *g_fallback, filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-å›é€€",   <<: *g_fallback, filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å›é€€",   <<: *g_fallback, filter: *FilterTW }

  # â”€â”€ åœ°åŒºè´Ÿè½½å‡è¡¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡",   <<: *g_balance,  filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å‡è¡¡", <<: *g_balance,  filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å‡è¡¡",   <<: *g_balance,  filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-å‡è¡¡",   <<: *g_balance,  filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-å‡è¡¡",   <<: *g_balance,  filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å‡è¡¡",   <<: *g_balance,  filter: *FilterTW }
```

---

## å››Â·äº”ã€ğŸ“Š ä»£ç†ç»„æ¶æ„è®¾è®¡æµæ´¾å¯¹æ¯”

å®Œæˆäº†ä»£ç†ç»„çš„ç»†èŠ‚å†™æ³•åï¼Œå€¼å¾—åœä¸‹æ¥å¯¹æ¯”ä¸€ä¸‹å‡ ç§ä¸»æµçš„**æ•´ä½“æ¶æ„**æ€è·¯ï¼Œå› ä¸ºæ¶æ„å†³å®šäº†ä½ çš„é…ç½®æœ‰å¤šå¥½ç”¨ã€å¤šå¥½ç»´æŠ¤ã€‚

---

**æ¶æ„ä¸€ï¼šå¹³é“ºå¼ï¼ˆæ–°æ‰‹æœ€å¸¸è§ï¼Œç»´æŠ¤å›°éš¾ï¼‰**

```yaml
proxy-groups:
  - name: "èŠ‚ç‚¹é€‰æ‹©"
    type: select
    use: [æœºåœºA]

  - name: "é¦™æ¸¯"
    type: url-test
    use: [æœºåœºA]
    filter: "HK"

  - name: "AI æœåŠ¡"
    type: select
    proxies: ["é¦™æ¸¯", "èŠ‚ç‚¹é€‰æ‹©"]  # ç›´æ¥æŠŠé¦™æ¸¯ group æ”¾è¿›æ¥
```

ç‰¹ç‚¹ï¼šæ‰€æœ‰ group åœ¨åŒä¸€å±‚çº§ï¼Œæ²¡æœ‰å±‚çº§åµŒå¥—ã€‚ç®€å•ç›´è§‚ï¼Œä½† group å¤šäº†ä»¥åé¡¶å±‚å…¥å£å˜å¾—æ··ä¹±ï¼Œé¢æ¿é‡Œä»€ä¹ˆéƒ½æ˜¾ç¤ºã€‚

---

**æ¶æ„äºŒï¼šæ¼æ–—å‹ï¼ˆiyyh / ä¸»æµè¿›é˜¶ï¼Œæ¨èï¼‰**

```
é¡¶å±‚ï¼ˆä¸»å…¥å£ï¼‰
  â”œâ”€â”€ åŠŸèƒ½ç»„ï¼ˆAIã€æµåª’ä½“ã€ç”µæŠ¥...ï¼‰â†’ æŒ‡å‘åœ°åŒºç»„
  â”œâ”€â”€ æ™ºèƒ½é€‰æ‹© â†’ æŒ‡å‘å„åœ°åŒºè‡ªåŠ¨ç»„
  â””â”€â”€ æ‰‹åŠ¨é€‰æ‹© â†’ include-allï¼Œç”¨æˆ·è‡ªå·±ç‚¹

åœ°åŒºå±‚ï¼ˆä¸­é—´å±‚ï¼Œä¸ç›´æ¥æš´éœ²ç»™ç”¨æˆ·ï¼‰
  â”œâ”€â”€ ğŸ‡­ğŸ‡° é¦™æ¸¯ â†’ [é¦™æ¸¯-è‡ªåŠ¨, é¦™æ¸¯-å›é€€, é¦™æ¸¯-å‡è¡¡]ï¼ˆè®©ç”¨æˆ·é€‰ç­–ç•¥ï¼‰
  â””â”€â”€ ğŸ‡ºğŸ‡¸ ç¾å›½ â†’ [ç¾å›½-è‡ªåŠ¨, ç¾å›½-å›é€€, ç¾å›½-å‡è¡¡]

åº•å±‚ï¼ˆè‡ªåŠ¨ç»„ï¼Œhidden: trueï¼Œé¢æ¿ä¸æ˜¾ç¤ºï¼‰
  â”œâ”€â”€ é¦™æ¸¯-è‡ªåŠ¨ï¼ˆurl-testï¼‰
  â”œâ”€â”€ é¦™æ¸¯-å›é€€ï¼ˆfallbackï¼‰
  â””â”€â”€ é¦™æ¸¯-å‡è¡¡ï¼ˆload-balanceï¼‰

å…œåº•
  â””â”€â”€ æ¼ç½‘ä¹‹é±¼
```

ç‰¹ç‚¹ï¼šåŠŸèƒ½ç»„ä¸ç›´æ¥æŒæœ‰èŠ‚ç‚¹ï¼Œè€Œæ˜¯é€šè¿‡åœ°åŒºç»„é—´æ¥è°ƒåº¦ã€‚é¢æ¿é‡Œçš„ä¿¡æ¯å±‚æ¬¡æ¸…æ™°ï¼Œä¸è¢«å¤§é‡åº•å±‚ group æ·¹æ²¡ã€‚

---

**æ¶æ„ä¸‰ï¼šæ‰å¹³ + hidden è¿‡æ»¤ï¼ˆHenryChiao YAMLS / YYDS é£æ ¼ï¼‰**

å’Œæ¶æ„äºŒæœ¬è´¨ç›¸åŒï¼Œä½†åˆ©ç”¨ `hidden: true` æŠŠæ‰€æœ‰è‡ªåŠ¨/å›é€€/å‡è¡¡ç»„éšè—ï¼Œé¢æ¿é‡Œåªæš´éœ²é¡¶å±‚å’Œåœ°åŒºå±‚ã€‚åŠ ä¸Š `icon` å­—æ®µè®©é¢æ¿å›¾æ ‡æ›´å¥½çœ‹ï¼š

```yaml
- { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", <<: *g_urltest, filter: *FHK }   # hidden: trueï¼ˆåœ¨é”šç‚¹é‡Œï¼‰

# åœ°åŒºç»„ hidden: falseï¼Œç”¨æˆ·èƒ½çœ‹åˆ°
- name: "ğŸ‡­ğŸ‡° é¦™æ¸¯"
  type: select
  proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡"]
  icon: "https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png"
```

`icon` å­—æ®µéœ€è¦ Web é¢æ¿æ”¯æŒï¼ˆmetacubexd / zashboard å‡æ”¯æŒï¼‰ï¼Œå¯ä»¥è®©é¢æ¿é‡Œæ¯ä¸ª group æ˜¾ç¤ºå›½æ——æˆ–æœåŠ¡å•†å›¾æ ‡ï¼Œè§†è§‰ä½“éªŒå¥½å¾ˆå¤šã€‚

| æ¶æ„ | é€‚åˆåœºæ™¯ | é¢æ¿ä½“éªŒ | ç»´æŠ¤æˆæœ¬ |
|------|----------|----------|----------|
| å¹³é“ºå¼ | åªæœ‰ 3-5 ä¸ª group çš„è¶…ç®€é…ç½® | æ··ä¹± | ä½ |
| æ¼æ–—å‹ | ä¸ªäººæ—¥å¸¸ä½¿ç”¨ï¼ˆæ¨èï¼‰ | æ¸…æ™° | ä¸­ |
| æ‰å¹³+hidden | å¤§å‹é…ç½® / é…ç½®ä»“åº“ï¼ˆ5+ åœ°åŒºï¼‰ | æœ€ä½³ | ä½ï¼ˆé”šç‚¹åŠ æŒï¼‰ |

---

## äº”ã€è§„åˆ™é›†ï¼ˆrule-providersï¼‰

è§„åˆ™é›†æ˜¯ç¤¾åŒºç»´æŠ¤çš„åŸŸå/IP åˆ—è¡¨ï¼Œè‡ªåŠ¨æ›´æ–°ï¼Œè¦†ç›–å…¨é¢ï¼Œè¿œæ¯”æ‰‹å†™è§„åˆ™é è°±ã€‚

å¼ºçƒˆæ¨èä½¿ç”¨ **SukkA è§„åˆ™é›†**ï¼ˆ[ruleset.skk.moe](https://ruleset.skk.moe/)ï¼‰ï¼Œè§„åˆ™è´¨é‡æé«˜ï¼Œåˆ†ç±»ç»†è‡´ï¼Œå¹¶ä¸”ä¸¥æ ¼åŒºåˆ†"é IP ç±»è§„åˆ™"å’Œ"IP ç±»è§„åˆ™"ï¼Œä¾¿äºæŒ‰é¡ºåºæ‘†æ”¾ã€‚

```yaml
# â”€â”€ è§„åˆ™é›†é”šç‚¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rs_classical: &rs_classical { type: http, behavior: classical, interval: 43200, format: text }
rs_domain:    &rs_domain    { type: http, behavior: domain,    interval: 43200, format: text }
rs_ipcidr:    &rs_ipcidr    { type: http, behavior: ipcidr,    interval: 43200, format: text }
# å¦‚æœä½¿ç”¨ MetaCubeX å®˜æ–¹çš„ .mrs æ ¼å¼ï¼ˆæ›´å¿«æ›´å°ï¼‰ï¼š
rs_mrs:       &rs_mrs       { type: http, behavior: domain,    interval: 86400, format: mrs }

rule-providers:
  # â”€â”€ é IP ç±»ï¼šå¹¿å‘Šæ‹¦æˆª â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  reject_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/reject.txt"
    path: ./rule_set/reject_non_ip.txt

  reject_non_ip_drop:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/reject-drop.txt"
    path: ./rule_set/reject_non_ip_drop.txt

  reject_domainset:
    <<: *rs_domain
    url: "https://ruleset.skk.moe/Clash/domainset/reject.txt"
    path: ./rule_set/reject_domainset.txt

  # â”€â”€ é IP ç±»ï¼šAI æœåŠ¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ai_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/ai.txt"
    path: ./rule_set/ai_non_ip.txt

  # â”€â”€ é IP ç±»ï¼šç”µæŠ¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  telegram_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/telegram.txt"
    path: ./rule_set/telegram_non_ip.txt

  # â”€â”€ é IP ç±»ï¼šæµåª’ä½“ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  stream_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/stream.txt"
    path: ./rule_set/stream_non_ip.txt

  # â”€â”€ é IP ç±»ï¼šè‹¹æœã€å¾®è½¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  apple_cdn:
    <<: *rs_domain
    url: "https://ruleset.skk.moe/Clash/domainset/apple_cdn.txt"
    path: ./rule_set/apple_cdn.txt

  apple_services:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/apple_services.txt"
    path: ./rule_set/apple_services.txt

  apple_cn_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/apple_cn.txt"
    path: ./rule_set/apple_cn_non_ip.txt

  microsoft_cdn_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/microsoft_cdn.txt"
    path: ./rule_set/microsoft_cdn_non_ip.txt

  microsoft_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/microsoft.txt"
    path: ./rule_set/microsoft_non_ip.txt

  # â”€â”€ é IP ç±»ï¼šå›½å†…/å›½å¤–/ç›´è¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  global_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/global.txt"
    path: ./rule_set/global_non_ip.txt

  domestic_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/domestic.txt"
    path: ./rule_set/domestic_non_ip.txt

  direct_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/direct.txt"
    path: ./rule_set/direct_non_ip.txt

  lan_non_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/non_ip/lan.txt"
    path: ./rule_set/lan_non_ip.txt

  # â”€â”€ IP ç±»è§„åˆ™ï¼ˆæ”¾åœ¨æœ€ååŒ¹é…ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  reject_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/ip/reject.txt"
    path: ./rule_set/reject_ip.txt

  telegram_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/ip/telegram.txt"
    path: ./rule_set/telegram_ip.txt

  stream_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/ip/stream.txt"
    path: ./rule_set/stream_ip.txt

  domestic_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/ip/domestic.txt"
    path: ./rule_set/domestic_ip.txt

  lan_ip:
    <<: *rs_classical
    url: "https://ruleset.skk.moe/Clash/ip/lan.txt"
    path: ./rule_set/lan_ip.txt

  china_ip:
    <<: *rs_ipcidr
    url: "https://ruleset.skk.moe/Clash/ip/china_ip.txt"
    path: ./rule_set/china_ip.txt
```

---

## å…­ã€ç²¾å‡†è·¯ç”±è§„åˆ™

ä¸¥æ ¼éµå®ˆï¼š**æ‰€æœ‰é IP ç±»è§„åˆ™åœ¨å‰ï¼ŒIP ç±»è§„åˆ™åœ¨å**ã€‚

```yaml
rules:
  # â•â•â•â• é IP ç±»è§„åˆ™ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  # å¹¿å‘Šæ‹¦æˆªï¼ˆæœ€ä¼˜å…ˆï¼‰
  - RULE-SET,reject_non_ip,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject_domainset,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject_non_ip_drop,REJECT-DROP   # é™é»˜ä¸¢å¼ƒï¼Œé˜²æ­¢æŸäº›æ¢æµ‹

  # AI æœåŠ¡
  - RULE-SET,ai_non_ip,ğŸ¤– AI æœåŠ¡

  # ç”µæŠ¥
  - RULE-SET,telegram_non_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯

  # æµåª’ä½“
  - RULE-SET,stream_non_ip,ğŸ“¹ æµåª’ä½“

  # è‹¹æœï¼ˆCDN ç›´è¿ï¼ŒæœåŠ¡èµ°è‹¹æœç»„ï¼Œå›½å†…è‹¹æœç›´è¿ï¼‰
  - RULE-SET,apple_cdn,DIRECT
  - RULE-SET,apple_cn_non_ip,DIRECT
  - RULE-SET,apple_services,ğŸ è‹¹æœæœåŠ¡

  # å¾®è½¯ï¼ˆCDN ç›´è¿ï¼ŒæœåŠ¡èµ°å¾®è½¯ç»„ï¼‰
  - RULE-SET,microsoft_cdn_non_ip,DIRECT
  - RULE-SET,microsoft_non_ip,â“‚ï¸ å¾®è½¯æœåŠ¡

  # å›½å¤–æµé‡èµ°ä»£ç†
  - RULE-SET,global_non_ip,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©

  # å›½å†… / ç›´è¿
  - RULE-SET,domestic_non_ip,DIRECT
  - RULE-SET,direct_non_ip,DIRECT
  - RULE-SET,lan_non_ip,DIRECT

  # â•â•â•â• IP ç±»è§„åˆ™ï¼ˆä¼šè§¦å‘ DNS è§£æï¼ŒåŠ¡å¿…æ”¾åœ¨åŸŸåè§„åˆ™åé¢ï¼‰â•â•â•â•â•

  - RULE-SET,reject_ip,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,telegram_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,stream_ip,ğŸ“¹ æµåª’ä½“
  - RULE-SET,lan_ip,DIRECT
  - RULE-SET,domestic_ip,DIRECT
  - RULE-SET,china_ip,DIRECT

  # â•â•â•â• å…œåº• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

---

## å…­Â·äº”ã€ğŸ“Š è§„åˆ™é›†æ¥æºä¸æ ¼å¼å¯¹æ¯”

è§„åˆ™é›†çš„æ¥æºå’Œæ ¼å¼é€‰æ‹©ï¼Œç›´æ¥å½±å“å¯åŠ¨é€Ÿåº¦ã€å†…å­˜å ç”¨å’Œè¦†ç›–å‡†ç¡®æ€§ã€‚è¿™ä¹Ÿæ˜¯å„å¤§é…ç½®ä»“åº“åˆ†æ­§æœ€å¤§çš„åœ°æ–¹ä¹‹ä¸€ã€‚

---

**æ¥æºä¸€ï¼šSukkA è§„åˆ™é›†ï¼ˆruleset.skk.moeï¼‰**

```yaml
# ç‰¹ç‚¹ï¼šæ–‡æœ¬æ ¼å¼ï¼ˆclassical/domainï¼‰ï¼Œåˆ†ç±»æç»†ï¼ŒåŒºåˆ†éIPå’ŒIPç±»ï¼Œè´¨é‡æœ€é«˜
reject_non_ip:
  type: http
  behavior: classical
  url: "https://ruleset.skk.moe/Clash/non_ip/reject.txt"
  format: text
  interval: 43200
```

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| æ ¼å¼ | `.txt` æ–‡æœ¬ï¼Œ`classical` / `domain` / `ipcidr` ä¸‰ç§ behavior |
| æ›´æ–°é¢‘ç‡ | æ¯ 12 å°æ—¶ï¼ˆ43200 ç§’ï¼‰è¾ƒä¸ºåˆç† |
| æ ¸å¿ƒä¼˜åŠ¿ | ä¸¥æ ¼åŒºåˆ†é IP ç±»å’Œ IP ç±»ï¼Œä¾¿äºæ­£ç¡®æ’åºï¼›è§„åˆ™é€»è¾‘æ¸…æ™°ï¼Œæœ‰è¯¦ç»†è¯´æ˜æ–‡æ¡£ |
| æ³¨æ„ | éœ€è¦ mihomo è”ç½‘æ‹‰å–ï¼Œé¦–æ¬¡å¯åŠ¨æ…¢ï¼›æ ¼å¼æ˜¯æ–‡æœ¬ï¼ŒåŠ è½½æ¯” `.mrs` æ…¢ |
| é€‚åˆ | è¿½æ±‚é«˜è´¨é‡ã€è§„åˆ™å‡†ç¡®çš„ç”¨æˆ·ï¼›æ„¿æ„èŠ±æ—¶é—´ç†è§£è§„åˆ™åˆ†ç±»çš„äºº |

---

**æ¥æºäºŒï¼šMetaCubeX å®˜æ–¹ meta-rules-datï¼ˆ`.mrs` æ ¼å¼ï¼‰**

```yaml
# ç‰¹ç‚¹ï¼šäºŒè¿›åˆ¶æ ¼å¼ï¼ŒåŠ è½½æå¿«ï¼ŒGeoSite æ•°æ®åº“ç›´æ¥åˆ†å‘
cn-domain:
  type: http
  behavior: domain
  url: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geo/geosite/cn.mrs"
  format: mrs          # â† mihomo ä¸“ç”¨äºŒè¿›åˆ¶ï¼Œé€Ÿåº¦æ˜¯ yaml/text çš„ 10 å€ä»¥ä¸Š
  interval: 86400
```

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| æ ¼å¼ | `.mrs`ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼ŒåŠ è½½é€Ÿåº¦æœ€å¿«ï¼Œå†…å­˜æœ€ä½ |
| æ›´æ–°é¢‘ç‡ | æ¯ 24 å°æ—¶ï¼ˆ86400 ç§’ï¼‰å³å¯ |
| æ ¸å¿ƒä¼˜åŠ¿ | åŸºäº GeoSite æ•°æ®åº“ï¼Œè§„æ¨¡å¤§ï¼›`.mrs` æ ¼å¼å¯¹å†…å­˜å’Œ CPU æœ€å‹å¥½ |
| æ³¨æ„ | ä¸åŒºåˆ†"éIPç±»"å’Œ"IPç±»"ï¼Œéœ€è¦è‡ªå·±æŒ‰ behavior ç±»å‹æ’åºæ”¾ç½®ï¼›è§„åˆ™é¢—ç²’åº¦ä¸å¦‚ SukkA ç»† |
| é€‚åˆ | è¿½æ±‚å¯åŠ¨é€Ÿåº¦å’Œä½å†…å­˜çš„ç”¨æˆ·ï¼›è·¯ç”±å™¨/è½¯è·¯ç”±ç­‰èµ„æºæœ‰é™çš„è®¾å¤‡ |

---

**æ¥æºä¸‰ï¼šiyyh + SukkA æ··åˆï¼ˆè‡ªç”¨é…ç½®çš„é€‰æ‹©ï¼‰**

```yaml
# iyyh çš„é…ç½®å®Œå…¨ä½¿ç”¨ SukkA è§„åˆ™é›†ï¼Œæ ¼å¼æ˜¯ classical text
# ä¼˜ç‚¹ï¼šåˆ†ç±»æœ€å‡†ç¡®ï¼›ç¼ºç‚¹ï¼šé¦–æ¬¡åŠ è½½æ…¢ï¼Œæ ¼å¼ä½“ç§¯æ¯” .mrs å¤§

# å¦ä¸€ç§å¸¸è§çš„æ··åˆç”¨æ³•ï¼š
# - å›½å†…/å›½å¤–åˆ†æµç”¨ .mrsï¼ˆé€Ÿåº¦å¿«ï¼‰
# - å¹¿å‘Šæ‹¦æˆª/AI/æµåª’ä½“ç”¨ SukkAï¼ˆè´¨é‡é«˜ï¼‰
```

---

**æ¥æºå››ï¼šGEOSITE + GEOIP ç›´æ¥ç”¨ï¼ˆæœ€ç®€ï¼Œæ–°æ‰‹è¿‡æ¸¡æ–¹æ¡ˆï¼‰**

```yaml
# ä¸ç”¨ rule-providersï¼Œç›´æ¥åœ¨ rules é‡Œç”¨ GEOSITE / GEOIP
rules:
  - GEOSITE,CN,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| ä¼˜ç‚¹ | é›¶é…ç½®ï¼Œä¸éœ€è¦ rule-providers å—ï¼Œé…ç½®æ–‡ä»¶æçŸ­ |
| ç¼ºç‚¹ | è§„åˆ™é¢—ç²’åº¦æç²—ï¼Œæ— æ³•ç»†åˆ†å¹¿å‘Š/AI/æµåª’ä½“ï¼›ä¾èµ– GeoData æ•°æ®åº“ |
| é€‚åˆ | å°ç™½ç¬¬ä¸€é˜¶æ®µä¸´æ—¶ç”¨ï¼Œåç»­åº”å‡çº§ä¸º rule-providers |

---

**æ ¼å¼é€ŸæŸ¥è¡¨ï¼š**

| æ ¼å¼ | behavior | åŠ è½½é€Ÿåº¦ | ä½“ç§¯ | æ”¯æŒç‰ˆæœ¬ |
|------|----------|----------|------|----------|
| `.mrs` | domain / ipcidr | â­â­â­ æœ€å¿« | æœ€å° | mihomo ä¸“ç”¨ |
| `.txt` (text) | classical | â­â­ | ä¸­ | é€šç”¨ |
| `.yaml` | ä¸‰ç§éƒ½æ”¯æŒ | â­ æœ€æ…¢ | æœ€å¤§ | é€šç”¨ï¼ˆClash ç³»ï¼‰ |

**ç»“è®ºï¼š** å¦‚æœä½ çš„è®¾å¤‡æ€§èƒ½å¤Ÿç”¨ä¸”ä¸åœ¨æ„å¯åŠ¨é€Ÿåº¦ï¼Œç”¨ SukkA è§„åˆ™é›†è´¨é‡æœ€å¥½ï¼›å¦‚æœåœ¨è·¯ç”±å™¨ç­‰èµ„æºå—é™è®¾å¤‡ä¸Šï¼Œä¼˜å…ˆ `.mrs` æ ¼å¼çš„å®˜æ–¹è§„åˆ™é›†ï¼ŒåŠ è½½é€Ÿåº¦å¿«å†…å­˜ä½ã€‚**ä¸¤è€…æ··ç”¨ä¹Ÿæ²¡é—®é¢˜**ï¼Œåœ¨ rule-providers é‡Œåˆ†åˆ«å®šä¹‰å„è‡ªçš„é”šç‚¹å³å¯ã€‚

---

**æ¥æºäº”ï¼š666OS/rulesï¼ˆTheFullSmart ä½¿ç”¨çš„è§„åˆ™é›†ï¼Œå…¨ `.mrs`ï¼Œå« IP é…å¥—ï¼‰**

```yaml
# æ¥æºï¼šHenryChiao/MIHOMO_AIO TheFullSmart_test_version.yaml
# ç‰¹ç‚¹ï¼šæ¯ä¸ªåˆ†ç±»éƒ½åŒæ—¶æä¾› domain ç‰ˆæœ¬ + IP ç‰ˆæœ¬ï¼Œæˆå¯¹å‡ºç°
BehaviorDN: &BehaviorDN {type: http, behavior: domain, format: mrs, interval: 86400}
BehaviorIP: &BehaviorIP {type: http, behavior: ipcidr, format: mrs, interval: 86400}

rule-providers:
  Telegram:   {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Telegram.mrs}
  TelegramIP: {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/Telegram.mrs}
  AI:         {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/AI.mrs}
  AIIP:       {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/AI.mrs}
  # ... æ¯ä¸ªæœåŠ¡éƒ½æœ‰å¯¹åº”çš„ domain ç‰ˆ + ip ç‰ˆ
```

å¯¹åº” rules çš„å†™æ³•ä¹Ÿé…å¥—ï¼š

```yaml
rules:
  - RULE-SET,Telegram,ç”µæŠ¥æ¶ˆæ¯          # åŸŸåè§„åˆ™ï¼ˆä¸è§¦å‘ DNSï¼‰
  - RULE-SET,TelegramIP,ç”µæŠ¥æ¶ˆæ¯,no-resolve  # IP è§„åˆ™ï¼ˆno-resolve é¿å…é‡å¤è§£æï¼‰
```

| å¯¹æ¯”é¡¹ | SukkA è§„åˆ™é›† | 666OS/rules |
|--------|-------------|-------------|
| æ ¼å¼ | `.txt` (classical/domain) | å…¨ `.mrs`ï¼ˆäºŒè¿›åˆ¶ï¼‰|
| IP/åŸŸååˆ†ç¦» | âœ… ä¸¥æ ¼åˆ† non_ip å’Œ ip | âœ… æ¯ç±»éƒ½æœ‰ domain + IP ä¸¤ä»½ |
| æ›´æ–°æ¥æº | ä½œè€…æ‰‹å·¥ç»´æŠ¤ | ç¬¬ä¸‰æ–¹æ±‡æ€» |
| å¯åŠ¨é€Ÿåº¦ | ç¨æ…¢ï¼ˆæ–‡æœ¬è§£æï¼‰| æœ€å¿«ï¼ˆäºŒè¿›åˆ¶ï¼‰|
| é€‚åˆ | è¿½æ±‚è§„åˆ™ç²¾åº¦ã€æ„¿æ„ç†è§£è§„åˆ™é€»è¾‘ | è¿½æ±‚é€Ÿåº¦å’Œç®€æ´ã€ä¸å…³å¿ƒè§„åˆ™æ¥æºç»†èŠ‚ |

---

## å…­Â·å…­ã€ğŸ“Š `fake-ip-filter` ä¸¤ç§é…ç½®æ–¹å¼å¯¹æ¯”

ä¼ ç»Ÿå†™æ³•å’Œ TheFullSmart çš„ `rule` æ¨¡å¼åœ¨ç»´æŠ¤æ€§å’Œç²¾åº¦ä¸Šå·®å¼‚æ˜æ˜¾ã€‚

---

**æ–¹å¼ä¸€ï¼šä¼ ç»ŸåŸŸååˆ—è¡¨ï¼ˆå¤§å¤šæ•°æ•™ç¨‹çš„å†™æ³•ï¼‰**

```yaml
dns:
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "localhost.ptlogin2.qq.com"
    - "+.push.apple.com"
    # æ‰‹åŠ¨ç»´æŠ¤ä¸€ä¸ªåŸŸåç™½åå•åˆ—è¡¨
```

ä¼˜ç‚¹ï¼šç®€å•ç›´è§‚ï¼Œå¤åˆ¶å³ç”¨ã€‚ç¼ºç‚¹ï¼šåˆ—è¡¨æ‰‹åŠ¨ç»´æŠ¤ï¼Œè¦†ç›–ä¸å…¨ï¼›æ— æ³•å¼•ç”¨ rule-providersï¼Œä¸è§„åˆ™é›†å®Œå…¨ç‹¬ç«‹ã€‚

---

**æ–¹å¼äºŒï¼š`fake-ip-filter-mode: rule` â€” åŸºäºè§„åˆ™é›†çš„ç²¾ç¡®æ§åˆ¶ï¼ˆTheFullSmart é£æ ¼ï¼‰**

```yaml
# æ¥æºï¼šHenryChiao/MIHOMO_AIO TheFullSmart_test_version.yaml
dns:
  fake-ip-filter-mode: rule    # åˆ‡æ¢ä¸ºè§„åˆ™æ¨¡å¼ï¼Œæ¯æ¡ filter å¯å•ç‹¬æŒ‡å®š real-ip æˆ– fake-ip
  fake-ip-filter:
    # ç›´æ¥å¼•ç”¨ rule-providersï¼Œæ ¼å¼ï¼šRULE-SET,è§„åˆ™é›†åç§°,real-ip|fake-ip
    - RULE-SET,fakeip-filter,real-ip   # è¿™ä¸ªè§„åˆ™é›†é‡Œçš„åŸŸåè¿”å›çœŸå® IPï¼ˆä¸é€ å‡ï¼‰
    - RULE-SET,Private,real-ip         # å†…ç½‘åŸŸåä¸é€ å‡
    - RULE-SET,Direct,real-ip          # ç›´è¿åŸŸåä¸é€ å‡
    - RULE-SET,China,real-ip           # å›½å†…åŸŸåä¸é€ å‡

    - RULE-SET,AI,fake-ip              # AI æœåŠ¡å¼ºåˆ¶èµ° fake-ipï¼ˆç¡®ä¿èµ°ä»£ç†è·¯ç”±ï¼‰
    - RULE-SET,Telegram,fake-ip        # ç”µæŠ¥å¼ºåˆ¶ fake-ip
    - RULE-SET,Netflix,fake-ip         # å¥ˆé£å¼ºåˆ¶ fake-ip
    - DOMAIN-KEYWORD,speedtest,fake-ip # å…³é”®è¯ä¹Ÿå¯ä»¥ç”¨

    - MATCH,real-ip                    # å…œåº•ï¼šå…¶ä½™åŸŸåè¿”å›çœŸå® IP
```

| å¯¹æ¯”é¡¹ | ä¼ ç»Ÿåˆ—è¡¨æ¨¡å¼ | `rule` æ¨¡å¼ |
|--------|-------------|-------------|
| é…ç½®æ¥æº | æ‰‹å†™åŸŸåç™½åå• | å¤ç”¨ rule-providersï¼Œä¸åˆ†æµè§„åˆ™è”åŠ¨ |
| ç»´æŠ¤æˆæœ¬ | é«˜ï¼ˆæ‰‹åŠ¨æ›´æ–°ï¼‰| ä½ï¼ˆè§„åˆ™é›†è‡ªåŠ¨æ›´æ–°ï¼‰|
| ç²¾åº¦ | ç²—ï¼ˆåªèƒ½æŒ‡å®š real-ipï¼Œæ— æ³•å¼ºåˆ¶ fake-ipï¼‰| é«˜ï¼ˆæ¯æ¡è§„åˆ™å¯å•ç‹¬æŒ‡å®š real-ip æˆ– fake-ipï¼‰|
| å¼ºåˆ¶ fake-ip | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼Œç¡®ä¿ä»£ç†åŸŸåè¢«è·¯ç”±å±‚æ­£ç¡®è¯†åˆ« |
| å¤æ‚åº¦ | ä½ | ä¸­ï¼ˆéœ€è¦ç†è§£è§„åˆ™é›†ä¸ DNS çš„è”åŠ¨ï¼‰|
| mihomo ç‰ˆæœ¬è¦æ±‚ | é€šç”¨ | éœ€è¦è¾ƒæ–°ç‰ˆæœ¬æ”¯æŒ `fake-ip-filter-mode` |

> **å®é™…æ„ä¹‰ï¼š** `fake-ip-filter-mode: rule` æœ€å¤§çš„ä»·å€¼åœ¨äºå¯ä»¥**å¼ºåˆ¶æŸäº›åŸŸåèµ° fake-ip**ï¼Œç¡®ä¿å®ƒä»¬è¢«è·¯ç”±å±‚ä»¥ fake-ip å½¢å¼è¯†åˆ«è¿›è€Œèµ°ä»£ç†ï¼Œè€Œä¸æ˜¯å› ä¸º fake-ip-filter æŠŠå®ƒä»¬æ”¾è¡Œäº†ã€è®©å®ƒä»¬ä»¥çœŸå® IP ç»•è¿‡è·¯ç”±è§„åˆ™ã€‚

---

## ä¸ƒã€æ›´ç²¾ç»†çš„ DNSï¼šnameserver-policy

å½“ä½ æœ‰äº†æ¸…æ™°çš„è§„åˆ™é›†åï¼Œå¯ä»¥ç”¨ `nameserver-policy` æ›¿ä»£ `fallback`ï¼Œå®ç°çœŸæ­£çš„"è‡ªå®¶äººç”¨è‡ªå®¶ DNS"ï¼š

```yaml
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  prefer-h3: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true          # DNS è§£æéµå®ˆè·¯ç”±è§„åˆ™ï¼šä»£ç†åŸŸåèµ°ä»£ç†ä¾§è§£æ

  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

  # nameserver-policyï¼šæŒ‡å®šç‰¹å®šåŸŸåèµ°ç‰¹å®š DNSï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
  nameserver-policy:
    # å›½å†…ä¸»è¦å‚å•†ç”¨è‡ªå®¶ DNSï¼Œè§£æç»“æœæœ€å‡†ç¡®
    "geosite:cn,private":
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
    # å›½å¤–åŸŸåèµ°åŠ å¯† DNSï¼ˆé…åˆ respect-rules ä¼šèµ°ä»£ç†ï¼‰
    "geosite:geolocation-!cn":
      - "tls://8.8.8.8"
      - "tls://1.1.1.1"
    # ä¹Ÿå¯ä»¥ä½¿ç”¨ SukkA çš„ nameserver-policyï¼ˆè´¨é‡æé«˜ï¼‰
    # å‚è§ï¼šhttps://ruleset.skk.moe/Internal/clash_nameserver_policy.yaml

  # é»˜è®¤ nameserverï¼ˆnameserver-policy æœªè¦†ç›–çš„åŸŸåä½¿ç”¨è¿™é‡Œï¼‰
  nameserver:
    - system
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
```

---

# ç¬¬ä¸‰é˜¶æ®µï¼šè¿›é˜¶ç¯‡ â€”â€” TUNã€dialer-proxyã€æ€§èƒ½æè‡´

**ç›®æ ‡ï¼š** å¼€å¯ TUN é€æ˜ä»£ç†æ¥ç®¡å…¨éƒ¨ç³»ç»Ÿæµé‡ï¼ŒæŒæ¡ dialer-proxy ä»£ç†é“¾çš„æ­£ç¡®å†™æ³•ï¼ˆrelay å·²åºŸå¼ƒï¼‰ï¼Œä»¥åŠå„é¡¹æ€§èƒ½è°ƒä¼˜å‚æ•°ã€‚

---

## ä¸€ã€TUN é€æ˜ä»£ç†

### ä»€ä¹ˆæ˜¯ TUNï¼Ÿ

TUN æ¨¡å¼é€šè¿‡åˆ›å»ºè™šæ‹Ÿç½‘å¡ï¼Œåœ¨**ç³»ç»Ÿå±‚é¢**æ¥ç®¡æ‰€æœ‰æµé‡ã€‚ä¸éœ€è¦åº”ç”¨ç¨‹åºæ”¯æŒä»£ç†åè®®ï¼Œæ¸¸æˆã€å‘½ä»¤è¡Œå·¥å…·ï¼ˆgitã€curlï¼‰ã€ä»»ä½•ç½‘ç»œç¨‹åºéƒ½ä¼šè‡ªåŠ¨èµ°ä»£ç†ï¼Œæ˜¯ç›®å‰æœ€å½»åº•çš„ä»£ç†æ–¹å¼ã€‚

**å‰ç½®æ¡ä»¶ï¼š** éœ€è¦ç®¡ç†å‘˜ / root æƒé™è¿è¡Œ mihomoã€‚

```yaml
tun:
  enable: true
  stack: mixed              # åè®®æ ˆï¼šmixedï¼ˆæ¨èï¼‰/ system / gvisor
                            # systemï¼šé€Ÿåº¦æœ€å¿«ï¼Œå…¼å®¹æ€§æœ€å¥½ï¼Œå†…å­˜æœ€ä½
                            # gvisorï¼šç”¨æˆ·æ€ç½‘ç»œæ ˆï¼ŒUDP æ”¯æŒæ›´å¥½ï¼Œä½†æ€§èƒ½ç•¥ä½
                            # mixedï¼šTCP èµ° systemï¼ŒUDP èµ° gvisorï¼Œå‡è¡¡ä¹‹é€‰
  device: mihomo            # è™šæ‹Ÿç½‘å¡åç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼ŒLinux ä¸‹å¸¸è§ tun0ï¼‰
  dns-hijack:
    - "any:53"              # åŠ«æŒæ‰€æœ‰å‘å¾€ 53 ç«¯å£çš„ DNS è¯·æ±‚
    - "tcp://any:53"        # åŒæ—¶åŠ«æŒ TCP çš„ DNS
  auto-detect-interface: true   # è‡ªåŠ¨è¯†åˆ«å‡ºå£ç½‘å¡ï¼ˆæ¨èï¼‰
  auto-route: true              # è‡ªåŠ¨é…ç½®ç³»ç»Ÿè·¯ç”±è¡¨ï¼ˆTUN æ¥ç®¡å…¨æµé‡çš„å…³é”®ï¼‰
  strict-route: true            # ä¸¥æ ¼è·¯ç”±ï¼šé˜²æ­¢æµé‡ç»•è¿‡ TUNï¼ˆä¼šå½±å“æŸäº› VPN åœºæ™¯ï¼‰
  mtu: 9000                     # MTUï¼Œé€‚å½“æé«˜å‡å°‘åˆ†ç‰‡ï¼ˆä»¥å¤ªç½‘æ¨è 1500ï¼Œè™šæ‹Ÿç½‘ç»œå¯æ›´é«˜ï¼‰

  # ä»¥ä¸‹ IP æ®µæ’é™¤åœ¨ TUN ä¹‹å¤–ï¼ˆç›´æ¥èµ°æœ¬æœºç½‘ç»œï¼‰
  route-exclude-address:
    - "192.168.0.0/16"
    - "10.0.0.0/8"
    - "172.16.0.0/12"
    # å¦‚æœä½¿ç”¨ ZeroTier / Tailscale ç­‰å†…ç½‘ç©¿é€ï¼ŒæŠŠå¯¹åº”ç½‘æ®µä¹ŸåŠ è¿›æ¥

  # gso: true               # é€šç”¨åˆ†æ®µå¸è½½ï¼ˆä»… Linuxï¼Œå¯æå‡ UDP æ€§èƒ½ï¼‰
  # gso-max-size: 65536
```

**ä¸‰ç§åè®®æ ˆé€ŸæŸ¥ï¼š**

| åè®®æ ˆ | TCP æ€§èƒ½ | UDP æ€§èƒ½ | å†…å­˜å ç”¨ | æ¨èåœºæ™¯ |
|--------|----------|----------|----------|----------|
| `system` | â­â­â­ æœ€å¿« | â­â­ | æœ€ä½ | æ—¥å¸¸ä¸»åŠ› |
| `gvisor` | â­â­ | â­â­â­ æœ€å¥½ | æœ€é«˜ | UDP å¯†é›†åœºæ™¯ |
| `mixed` | â­â­â­ | â­â­â­ | å±…ä¸­ | **æ¨èï¼Œå‡è¡¡** |

**TUN + Sniffer å¿…é¡»åŒæ—¶å¼€å¯ï¼š** TUN æ¨¡å¼æ‹¿åˆ°çš„æ˜¯ IP åœ°å€ï¼ˆå› ä¸ºæµé‡åœ¨ IP å±‚å°±è¢«æˆªè·äº†ï¼‰ï¼Œæ²¡æœ‰åŸŸåä¿¡æ¯ã€‚å—…æ¢å™¨è´Ÿè´£ä»æµé‡çš„åº”ç”¨å±‚å†…å®¹ï¼ˆTLS SNIã€HTTP Host ç­‰ï¼‰ä¸­æå–çœŸå®åŸŸåï¼Œå†æŠŠè¿™ä¸ªåŸŸåæ˜ å°„å›è§„åˆ™åŒ¹é…ã€‚å¦‚æœä¸å¼€å—…æ¢ï¼ŒåŸºäºåŸŸåçš„è§„åˆ™åœ¨ TUN æ¨¡å¼ä¸‹å‡ ä¹å…¨éƒ¨å¤±æ•ˆã€‚

---

## äºŒã€dialer-proxyï¼šä»£ç†é“¾çš„æ­£ç¡®å§¿åŠ¿

### relay å·²åºŸå¼ƒï¼Œè¯·ç”¨ dialer-proxy

`relay` ç±»å‹çš„ proxy-group åœ¨å®˜æ–¹æ–‡æ¡£ä¸­å·²æ˜ç¡®æ ‡æ³¨"å³å°†åºŸå¼ƒ"ï¼Œä¸”å­˜åœ¨ mux å¤šè·¯å¤ç”¨åœºæ™¯ä¸‹çš„é—®é¢˜ã€‚**ç°åœ¨æ­£ç¡®çš„ä»£ç†é“¾å†™æ³•æ˜¯ `dialer-proxy`**ï¼Œå®ƒå†™åœ¨ proxy èŠ‚ç‚¹çš„é…ç½®ä¸Šï¼Œè€Œä¸æ˜¯ proxy-group ç±»å‹ã€‚

### dialer-proxy çš„åŸç†

```
å†…æ ¸ â”€â”€â”€ è½åœ°èŠ‚ç‚¹(å‡ºå£) â”€â”€â†’ å‰ç½®èŠ‚ç‚¹åŒ…è£… â•â•â• å‰ç½®èŠ‚ç‚¹ â•â•â†’ è½åœ°èŠ‚ç‚¹æœåŠ¡ç«¯ â”€â†’ ç›®æ ‡
```

æœ€ç»ˆæ•ˆæœï¼š
- ç›®æ ‡ç½‘ç«™åªçœ‹åˆ°**è½åœ°èŠ‚ç‚¹**çš„ IP
- ä½ çš„å®½å¸¦è¿è¥å•†åªçœ‹åˆ°ä½ åœ¨è¿æ¥**å‰ç½®èŠ‚ç‚¹**
- å‰ç½®èŠ‚ç‚¹åªçŸ¥é“å®ƒåœ¨å¸®ä½ è¿æ¥è½åœ°èŠ‚ç‚¹

### åœºæ™¯ä¸€ï¼šç”¨è®¢é˜…èŠ‚ç‚¹ä½œä¸ºå‰ç½®ï¼Œè¿æ¥è‡ªå»º VPS

```yaml
proxies:
  # ä½ è‡ªå·±åœ¨ VPS ä¸Šæ­å»ºçš„è½åœ°èŠ‚ç‚¹ï¼ˆå‡ºå£ IP æ˜¯ä½  VPS çš„ IPï¼‰
  - name: "æˆ‘çš„VPS-è½åœ°"
    type: ss
    server: your-vps.com
    port: 12345
    cipher: aes-128-gcm
    password: "vps_password"
    udp: true
    dialer-proxy: "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"   # é€šè¿‡è¿™ä¸ªä»£ç†ç»„æ¥è¿æ¥è½åœ°èŠ‚ç‚¹

proxy-providers:
  æœºåœºA:
    type: http
    url: "https://airport.com/subscribe?token=xxx"
    interval: 86400
    path: ./proxy_providers/airport-a.yaml
    health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true }

proxy-groups:
  - name: "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"    # å‰ç½®èŠ‚ç‚¹ï¼šä»æœºåœºè®¢é˜…é‡Œé€‰
    type: select
    include-all: true

  # æµé‡èµ°å‘ï¼šæµè§ˆå™¨ â†’ mihomo â†’ æœºåœºèŠ‚ç‚¹ï¼ˆå‰ç½®ï¼‰â†’ æˆ‘çš„VPSï¼ˆè½åœ°ï¼‰â†’ ç›®æ ‡ç½‘ç«™
  - name: "ğŸ”— VPSè½åœ°"
    type: select
    proxies: ["æˆ‘çš„VPS-è½åœ°"]

rules:
  - MATCH,ğŸ”— VPSè½åœ°
```

**æ³¨æ„ï¼š** è½åœ°èŠ‚ç‚¹å»ºè®®ä½¿ç”¨ç®€å•åè®®ï¼ˆ`ss`ã€`vmess`ï¼‰ï¼Œ**ä¸è¦**ç”¨ UDP ç±»åè®®ï¼ˆ`hysteria2`ã€`tuic`ã€`wg`ï¼‰ä½œä¸ºè½åœ°ï¼Œå› ä¸ºå‰ç½®èŠ‚ç‚¹åˆ°è½åœ°èŠ‚ç‚¹çš„è¿æ¥æ˜¯ TCPï¼ŒUDP è½åœ°åœ¨è¿™ç§é“¾è·¯ä¸‹æ— æ³•æ­£å¸¸å·¥ä½œã€‚

### åœºæ™¯äºŒï¼šé€šè¿‡ proxy-providers override æ‰¹é‡è®¾ç½®å‰ç½®

```yaml
proxies:
  - name: "å‰ç½®èŠ‚ç‚¹"
    type: ss
    server: your-relay.com
    port: 12345
    cipher: aes-128-gcm
    password: "relay_password"

proxy-providers:
  # è¿™ä¸ª provider é‡Œæ‰€æœ‰èŠ‚ç‚¹éƒ½ç»ç”±"å‰ç½®èŠ‚ç‚¹"è½¬å‘
  è½åœ°èŠ‚ç‚¹æ± :
    type: http
    url: "https://landing-nodes.com/subscribe?token=xxx"
    interval: 86400
    path: ./proxy_providers/landing.yaml
    health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300 }
    override:
      dialer-proxy: "å‰ç½®èŠ‚ç‚¹"    # provider é‡Œæ‰€æœ‰èŠ‚ç‚¹éƒ½èµ°è¿™ä¸ªå‰ç½®

proxy-groups:
  - name: "ğŸ”— é“¾å¼ä»£ç†"
    type: select
    use: ["è½åœ°èŠ‚ç‚¹æ± "]

rules:
  - MATCH,ğŸ”— é“¾å¼ä»£ç†
```

### relay è¿ç§»åˆ° dialer-proxy

å¦‚æœä½ ä¹‹å‰æœ‰è¿™æ ·çš„ relay é…ç½®ï¼š

```yaml
# âŒ æ—§å†™æ³•ï¼ˆrelay å·²åºŸå¼ƒï¼‰
proxy-groups:
  - name: "é“¾å¼"
    type: relay
    proxies: ["å‰ç½®é€‰æ‹©", "è½åœ°é€‰æ‹©"]
  - name: "å‰ç½®é€‰æ‹©"
    type: select
    proxies: ["proxy1", "proxy2"]
  - name: "è½åœ°é€‰æ‹©"
    type: select
    proxies: ["proxy3", "proxy4"]
```

è¿ç§»åçš„æ­£ç¡®å†™æ³•ï¼š

```yaml
# âœ… æ–°å†™æ³•ï¼ˆdialer-proxyï¼‰
proxies:
  - { name: "proxy1", type: "socks", ... }
  - { name: "proxy2", type: "socks", ... }

proxy-groups:
  - name: "å‰ç½®é€‰æ‹©"
    type: select
    proxies: ["proxy1", "proxy2"]

  # è½åœ°èŠ‚ç‚¹æ”¾è¿› proxy-providersï¼ˆinline ç±»å‹æˆ– http/file ç±»å‹ï¼‰
  # é€šè¿‡ override.dialer-proxy æ‰¹é‡æŒ‡å®šå‰ç½®
  - name: "è½åœ°é€‰æ‹©"
    type: select
    use: ["è½åœ°provider"]

proxy-providers:
  è½åœ°provider:
    type: inline
    override:
      dialer-proxy: "å‰ç½®é€‰æ‹©"   # æ‰€æœ‰è½åœ°èŠ‚ç‚¹éƒ½ç»è¿‡"å‰ç½®é€‰æ‹©"è¿™ä¸ªç»„
    payload:
      - { name: "proxy3", type: "socks", ... }
      - { name: "proxy4", type: "socks", ... }
```

---

## ä¸‰ã€WireGuard + dialer-proxyï¼ˆWARP å¥—å¨ƒï¼‰

è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è¿›é˜¶ç”¨æ³•ï¼šè®© WireGuard/WARP èŠ‚ç‚¹é€šè¿‡å¦ä¸€ä¸ªä»£ç†èŠ‚ç‚¹å»ºç«‹è¿æ¥ã€‚

```yaml
proxies:
  # å‰ç½®èŠ‚ç‚¹ï¼ˆSS/VMess/Trojan ç­‰ï¼Œè´Ÿè´£è¿åˆ° WireGuard æœåŠ¡å™¨ï¼‰
  - name: "ğŸš€ å‰ç½®"
    type: ss
    server: your.relay.com
    port: 12345
    cipher: aes-128-gcm
    password: "password"

  # WireGuard èŠ‚ç‚¹ï¼ˆé€šè¿‡å‰ç½®èŠ‚ç‚¹å»ºç«‹ WG éš§é“ï¼‰
  - name: "â˜ï¸ WARP"
    type: wireguard
    server: engage.cloudflareclient.com
    port: 2408
    ip: "172.16.0.2/32"
    private-key: "your_private_key"
    public-key: "bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo="
    udp: true
    mtu: 1280
    dialer-proxy: "ğŸš€ å‰ç½®"        # WARP é€šè¿‡å‰ç½®èŠ‚ç‚¹å»ºç«‹è¿æ¥
    remote-dns-resolve: true
    dns:
      - https://dns.cloudflare.com/dns-query
```

---

## ä¸‰Â·äº”ã€ğŸ“Š `listeners` åˆ†åŒºç«¯å£ vs ç»Ÿä¸€ç«¯å£

å¤§å¤šæ•°æ•™ç¨‹åªä»‹ç» `mixed-port` å•ä¸€ç«¯å£ï¼Œä½† TheFullSmart ä½¿ç”¨ `listeners` å­—æ®µå®ç°**æ¯ä¸ªåœ°åŒºå›ºå®šä¸€ä¸ªç«¯å£**ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿›é˜¶ç”¨æ³•ï¼Œé€‚åˆè½¯è·¯ç”±/æœåŠ¡å™¨åœºæ™¯ã€‚

```yaml
# æ¥æºï¼šHenryChiao/MIHOMO_AIO TheFullSmart_test_version.yaml
listeners:
  # å…¥å£å‹ï¼šShadowsocks åè®®ï¼Œä¾›è¿œç«¯è®¾å¤‡æ¥å…¥
  - {name: SS-IN, type: shadowsocks, listen: '::', port: 10010,
     udp: true, password: yourpassword, cipher: aes-256-gcm}

  # åœ°åŒºä¸“ç”¨ç«¯å£ï¼šæ¯ä¸ªç«¯å£ç»‘å®šåˆ°å¯¹åº”çš„ proxy-group
  - {name: MIXED-FB, type: mixed, port: 49999, proxy: æ•…éšœè½¬ç§»}
  - {name: MIXED-HK, type: mixed, port: 50000, proxy: é¦™æ¸¯ç­–ç•¥}
  - {name: MIXED-SG, type: mixed, port: 50001, proxy: ç‹®åŸç­–ç•¥}
  - {name: MIXED-JP, type: mixed, port: 50002, proxy: æ—¥æœ¬ç­–ç•¥}
  - {name: MIXED-TW, type: mixed, port: 50003, proxy: å°æ¹¾ç­–ç•¥}
  - {name: MIXED-US, type: mixed, port: 50004, proxy: ç¾å›½ç­–ç•¥}
  - {name: MIXED-KR, type: mixed, port: 50005, proxy: éŸ©å›½ç­–ç•¥}
  - {name: MIXED-DIRECT, type: mixed, port: 10086, proxy: ç›´æ¥è¿æ¥}
```

**ä½¿ç”¨åœºæ™¯ï¼š** å…¶ä»–è®¾å¤‡æˆ–åº”ç”¨å°†ä»£ç†åœ°å€è®¾ä¸º `192.168.1.x:50000`ï¼Œæµé‡å°±è‡ªåŠ¨èµ°é¦™æ¸¯ç­–ç•¥ï¼Œä¸éœ€è¦åœ¨åº”ç”¨å†…æ‰‹åŠ¨é€‰ç»„ã€‚é€‚åˆï¼š

- è½¯è·¯ç”±ä¸ºå±€åŸŸç½‘å†…ä¸åŒè®¾å¤‡åˆ†é…ä¸åŒå‡ºå£ï¼ˆNASèµ°ç›´è¿ã€æ¸¸æˆæœºèµ°æ—¥æœ¬ï¼‰
- æœåŠ¡å™¨ä¸Šå¤šä¸ªå®¹å™¨/æœåŠ¡éœ€è¦ä¸åŒåœ°åŒºå‡ºå£
- æ­é… `liuran001` é…ç½®é‡Œçš„ listeners æ³¨é‡Šç¤ºä¾‹ï¼ˆ`name: hk, port: 12991, proxy: é¦™æ¸¯`ï¼‰

| æ–¹å¼ | é€‚åˆåœºæ™¯ | å¤æ‚åº¦ |
|------|----------|--------|
| å• `mixed-port` | ä¸ªäººç”µè„‘ï¼Œæ‰‹åŠ¨åœ¨é¢æ¿é€‰ç»„ | ä½ |
| `listeners` å¤šç«¯å£ | è½¯è·¯ç”±/æœåŠ¡å™¨ï¼Œå¤šè®¾å¤‡/å¤šæœåŠ¡åˆ†åŒºå‡ºå£ | ä¸­ |

---

## ä¸‰Â·å…­ã€ğŸ“Š `tunnels` ç›´é€šéš§é“

`tunnels` æ˜¯å¦ä¸€ä¸ªæ•™ç¨‹ä¸­å®Œå…¨æ²¡æœ‰æåŠçš„ç‰¹æ€§ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼š**æŠŠæœ¬åœ°æŸä¸ªç«¯å£çš„ TCP/UDP æµé‡ï¼Œé€šè¿‡æŒ‡å®šçš„ proxy-group ç›´æ¥è½¬å‘åˆ°è¿œç«¯ IP:ç«¯å£**ï¼Œä¸ä¾èµ–ä»»ä½•è§„åˆ™åŒ¹é…ã€‚

```yaml
# æ¥æºï¼šHenryChiao/MIHOMO_AIO TheFullSmart_test_version.yaml
# ç”¨é€”ï¼šæŠŠ Telegram çš„ MTProto æœåŠ¡å™¨ IP ç›´æ¥ tunnel è¿‡å»ï¼Œç»•è¿‡è§„åˆ™åŒ¹é…å»¶è¿Ÿ
tunnels:
  - {network: [tcp, udp], address: 0.0.0.0:9100, target: 91.108.56.147:443, proxy: "ç”µæŠ¥æ¶ˆæ¯"}
  - {network: [tcp, udp], address: 0.0.0.0:9101, target: 91.108.56.117:443, proxy: "ç”µæŠ¥æ¶ˆæ¯"}
  - {network: [tcp, udp], address: 0.0.0.0:9102, target: 149.154.167.91:443,  proxy: "ç”µæŠ¥æ¶ˆæ¯"}
  - {network: [tcp, udp], address: 0.0.0.0:9103, target: 149.154.167.92:443,  proxy: "ç”µæŠ¥æ¶ˆæ¯"}
```

é…åˆ `hosts` å’Œ IP æ˜ å°„ä¸€èµ·ä½¿ç”¨ï¼ŒæŠŠ Telegram å®¢æˆ·ç«¯è§£æåˆ°çš„ IP é‡å®šå‘åˆ°æœ¬åœ° tunnel ç«¯å£ï¼š

```yaml
hosts:
  # æŠŠè¿™äº› Telegram IP é‡æ˜ å°„ï¼Œè®©æ‰€æœ‰è¯·æ±‚é€šè¿‡ tunnel èµ°ä»£ç†
  '91.108.56.100': [91.108.56.147, 91.108.56.117, 91.108.56.135]
  '91.108.56.101': [91.108.56.147, 91.108.56.117, 91.108.56.135]
```

**å®é™…ç”¨é€”ï¼š**
- Telegram MTProto ç›´è¿ä¼˜åŒ–ï¼šæŸäº›ç½‘ç»œç¯å¢ƒä¸‹ Telegram è§„åˆ™åŒ¹é…åä»ç„¶ä¸ç¨³å®šï¼Œé€šè¿‡ tunnel å¼ºåˆ¶ç»‘å®šåˆ°ä»£ç†
- æœ¬åœ°æœåŠ¡è½¬å‘ï¼šæŠŠæœ¬åœ°ç«¯å£æµé‡ tunnel åˆ°è¿œç«¯æœåŠ¡ï¼Œç±»ä¼¼åå‘ä»£ç†ä½†é€šè¿‡ä»£ç†é“¾èµ°

| æ–¹å¼ | è§„åˆ™ä¾èµ– | é€‚åˆåœºæ™¯ |
|------|----------|----------|
| æ™®é€š `RULE-SET` è§„åˆ™åŒ¹é… | éœ€è¦å…ˆåŒ¹é…è§„åˆ™ | é€šç”¨åˆ†æµ |
| `tunnels` ç›´é€š | æ— éœ€è§„åˆ™ï¼Œç›´æ¥ç»‘å®š proxy-group | IP å›ºå®šçš„æœåŠ¡ï¼ˆTelegram/ç‰¹å®šæ¸¸æˆæœåŠ¡å™¨ï¼‰|

> **æ³¨æ„ï¼š** `tunnels` é‡Œå†™æ­»äº†ç›®æ ‡ IPï¼Œç›®æ ‡ IP å˜åŠ¨éœ€æ‰‹åŠ¨æ›´æ–°ã€‚Telegram DC çš„ IP ç›¸å¯¹ç¨³å®šï¼Œä½†ä¹Ÿä¸æ˜¯æ°¸ä¹…ä¸å˜ã€‚å¦‚æœ Telegram ä¸Šçº¿æ–° DCï¼Œè¦è¡¥å……æ–°çš„ tunnel æ¡ç›®ã€‚

---

## å››ã€å­è§„åˆ™ï¼ˆsub-ruleï¼‰

å­è§„åˆ™å…è®¸åœ¨å‘½ä¸­æŸä¸ªè§„åˆ™åï¼Œè¿›å…¥ä¸€ä¸ªå­è§„åˆ™é›†è¿›ä¸€æ­¥ç»†åˆ†ï¼Œå®ç°åµŒå¥—åˆ†æµï¼š

```yaml
sub-rules:
  # å½“æµé‡è¿›å…¥æµåª’ä½“è§„åˆ™åï¼Œè¿›ä¸€æ­¥ç»†åˆ†åˆ°å…·ä½“å¹³å°
  streaming:
    - GEOSITE,netflix,ğŸ¬ Netflix
    - GEOSITE,youtube,ğŸ“º YouTube
    - GEOSITE,bilibili,DIRECT          # Bç«™ç›´è¿
    - GEOSITE,bahamut,ğŸ‡¹ğŸ‡¼ å°æ¹¾         # å·´å“ˆå§†ç‰¹éœ€å°æ¹¾èŠ‚ç‚¹
    - MATCH,ğŸ“¹ æµåª’ä½“                   # å…¶ä»–æµåª’ä½“èµ°é€šç”¨ç»„

proxy-groups:
  - name: "ğŸ¬ Netflix"
    type: select
    proxies: ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡­ğŸ‡° é¦™æ¸¯"]

  - name: "ğŸ“º YouTube"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"]

rules:
  # æµåª’ä½“æµé‡è¿›å…¥å­è§„åˆ™
  - RULE-SET,stream_non_ip,SUB-RULE,streaming
  # ... å…¶ä»–è§„åˆ™
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

---

## äº”ã€æ€§èƒ½è°ƒä¼˜

```yaml
# â•â• å…¨å±€æ€§èƒ½å‚æ•° â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mixed-port: 7890
unified-delay: true            # ç»Ÿä¸€å»¶è¿Ÿï¼šç”¨å®é™…å¾€è¿”æ—¶é—´ï¼Œæ¯”æ¡æ‰‹æ—¶é—´æ›´å‡†
tcp-concurrent: true           # TCP å¹¶å‘å»ºè¿ï¼šé€‰æœ€å¿«çš„ IP
keep-alive-interval: 30        # TCP keepalive æ¢æµ‹é—´éš”ï¼ˆç§’ï¼‰
keep-alive-idle: 600           # TCP keepalive ç©ºé—²ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰

# â•â• GeoData åŠ è½½ä¼˜åŒ– â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
geodata-mode: true
geodata-loader: memconservative  # å†…å­˜èŠ‚çœæ¨¡å¼ï¼ˆè·¯ç”±å™¨/å†…å­˜å°çš„è®¾å¤‡æ¨èï¼‰
                                 # standardï¼šæ€§èƒ½æ›´é«˜ï¼Œå†…å­˜å ç”¨ä¹Ÿæ›´å¤š
geosite-matcher: succinct        # succinctï¼ˆç²¾ç®€ï¼‰/ mphï¼ˆå“ˆå¸Œï¼Œé€Ÿåº¦æœ€å¿«ï¼‰

# â•â• å‡ºå£ç½‘å¡ç»‘å®šï¼ˆå¤šç½‘å¡ç¯å¢ƒï¼‰â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# interface-name: eth0           # æŒ‡å®šå‡ºå£ç½‘å¡ï¼Œé˜²æ­¢æ„å¤–èµ°é”™ç½‘å¡
# routing-mark: 666              # Linux è·¯ç”±ç­–ç•¥æ ‡è®°ï¼ˆé…åˆ ip rule ä½¿ç”¨ï¼‰
```

**rule-providers æ ¼å¼é€‰æ‹©ï¼š** ä¼˜å…ˆé€‰ `.mrs` æ ¼å¼ï¼ˆmihomo ä¸“ç”¨äºŒè¿›åˆ¶æ ¼å¼ï¼‰ï¼ŒåŠ è½½é€Ÿåº¦æ¯” `.yaml` å¿« 10 å€ä»¥ä¸Šï¼Œå†…å­˜å ç”¨æ›´ä½ã€‚åªæœ‰åœ¨ `.mrs` æ ¼å¼çš„è§„åˆ™é›†ä¸å¯ç”¨æ—¶æ‰é€‰ `.yaml`ã€‚

---

## å…­ã€è¿›é˜¶ DNS å®Œæ•´é…ç½®

```yaml
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  prefer-h3: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true         # ä»£ç†åŸŸåèµ°ä»£ç†ä¾§ DNSï¼Œç›´è¿åŸŸåèµ°æœ¬åœ° DNS

  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.localhost"
    - "time.*.com"
    - "time.nist.gov"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.xboxlive.com"
    - "+.nintendo.net"
    - "+.push.apple.com"

  # è§£æä»£ç†èŠ‚ç‚¹åŸŸåç”¨
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

  # ç²¾ç»† DNS åˆ†æµï¼ˆä¼˜å…ˆçº§é«˜äº nameserverï¼‰
  nameserver-policy:
    # å›½å†…åŸŸå â†’ å›½å†… DNS
    "geosite:cn,private":
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
    # å›½å¤–åŸŸå â†’ èµ°ä»£ç†ä¾§ DNSï¼ˆé…åˆ respect-rulesï¼‰
    "geosite:geolocation-!cn":
      - "tls://8.8.8.8"
      - "tls://1.1.1.1"

  # å…œåº• DNS
  nameserver:
    - system
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
```

---

## å…­Â·äº”ã€ğŸ“Š `nameserver-policy` å†™æ³•å¯¹æ¯”ï¼šgeosite vs rule-set å¼•ç”¨

`nameserver-policy` æ”¯æŒä¸¤ç§é”®æ ¼å¼ï¼Œåœ¨ç²¾åº¦å’Œç»´æŠ¤æ€§ä¸Šå·®å¼‚æ˜æ˜¾ã€‚

---

**å†™æ³•ä¸€ï¼š`geosite:` å¼•ç”¨ï¼ˆiyyh é£æ ¼ï¼Œç®€æ´ï¼‰**

```yaml
nameserver-policy:
  "geosite:cn,private":
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
  "geosite:geolocation-!cn":
    - "tls://8.8.8.8"
    - "tls://1.1.1.1"
```

ä¼˜ç‚¹ï¼šå†™æ³•ç®€æ´ï¼Œä¸éœ€è¦é¢å¤–å¼•ç”¨ rule-providersï¼ŒGeoSite æ•°æ®åº“è‡ªåŠ¨ç»´æŠ¤ã€‚ç¼ºç‚¹ï¼šä¾èµ– GeoSite æ•°æ®åº“ï¼Œç²¾åº¦å–å†³äºæ•°æ®åº“è´¨é‡ï¼›`geolocation-!cn` æ˜¯å†…ç½®æ ‡ç­¾ï¼Œè¦†ç›–èŒƒå›´è¾ƒç²—ã€‚

---

**å†™æ³•äºŒï¼š`rule-set:` å¼•ç”¨ï¼ˆTheFullSmart é£æ ¼ï¼Œä¸åˆ†æµè§„åˆ™è”åŠ¨ï¼‰**

```yaml
# æ¥æºï¼šHenryChiao/MIHOMO_AIO TheFullSmart_test_version.yaml
# ç›´æ¥å¼•ç”¨ rule-providers é‡Œå·²ç»å®šä¹‰å¥½çš„è§„åˆ™é›†
nameserver-policy:
  # è¿™äº›è§„åˆ™é›†å†…çš„åŸŸåç”¨å›½å†… DNS
  "rule-set:LocationDKS,Private,Direct,XPTV,Download,AppleCN,China":
    - 1.12.12.12
    - 180.184.1.1
  # è¿™äº›è§„åˆ™é›†å†…çš„åŸŸåç”¨å›½å¤– DNS
  "rule-set:Github,AI,Speedtest,Twitter,Telegram,SocialMedia,Games,Proxy":
    - https://8.8.8.8/dns-query#RULES&ecs=223.5.5.0/24
    - https://cloudflare-dns.com/dns-query
  # å…³é”®è¯åŒ¹é…ä¹Ÿæ”¯æŒ
  "domain-keyword:speedtest":
    - https://8.8.8.8/dns-query
```

æ³¨æ„å…¶ä¸­çš„ `#RULES&ecs=223.5.5.0/24` å‚æ•°ï¼š
- `#RULES` è¡¨ç¤ºè¿™ä¸ª DNS è¯·æ±‚ä¹Ÿéµå¾ªè·¯ç”±è§„åˆ™ï¼ˆå³è¿™æ¡ DNS è¯·æ±‚æœ¬èº«ä¹Ÿèµ°ä»£ç†ï¼‰
- `ecs=223.5.5.0/24` æ˜¯ DNS ECSï¼ˆEDNS Client Subnetï¼‰å‚æ•°ï¼Œå‘Šè¯‰ DNS æœåŠ¡å™¨å®¢æˆ·ç«¯åœ¨ä¸­å›½å¤§é™†ï¼Œä½¿ CDN èƒ½è¿”å›æ›´é€‚åˆçš„ IPï¼ˆå³ä½¿ DNS è¯·æ±‚èµ°äº†ä»£ç†ï¼ŒCDN ä¹ŸçŸ¥é“"ç”¨æˆ·åœ¨å“ª"ï¼‰

**DNS é”šç‚¹å†™æ³•ï¼š** TheFullSmart è¿˜æŠŠ DNS æœåŠ¡å™¨åˆ—è¡¨ä¹Ÿåšæˆé”šç‚¹ï¼Œå‡å°‘é‡å¤ï¼š

```yaml
# å›½å†… DNS åˆ—è¡¨é”šç‚¹
direct-dns: &direct-dns
  - 'https://dns.alidns.com/dns-query#DIRECT'
  - 'https://doh.pub/dns-query#DIRECT&h3=false'  # h3=false ç¦ç”¨ HTTP/3ï¼ˆç¨³å®šæ€§ï¼‰

# å›½å¤– DNS åˆ—è¡¨é”šç‚¹
global-dns: &global-dns
  - "https://1.1.1.1/dns-query"
  - "https://dns.google/dns-query"
  - "https://dns.quad9.net/dns-query"
  - "tls://cloudflare-dns.com:853"
  - "tls://dns.google:853"

# ä½¿ç”¨é”šç‚¹å¼•ç”¨
dns:
  nameserver-policy:
    "rule-set:China,Private": *direct-dns   # å¼•ç”¨å›½å†… DNS é”šç‚¹
    "rule-set:Proxy,AI":      *global-dns   # å¼•ç”¨å›½å¤– DNS é”šç‚¹
```

| å¯¹æ¯”é¡¹ | geosite å†™æ³• | rule-set å†™æ³• |
|--------|-------------|--------------|
| ä¸åˆ†æµè§„åˆ™è”åŠ¨ | âŒ ç‹¬ç«‹ç»´æŠ¤ | âœ… åŒä¸€å¥—è§„åˆ™é›†ï¼Œæ”¹ä¸€å¤„ç”Ÿæ•ˆ |
| ç²¾åº¦æ§åˆ¶ | ä¾èµ– GeoSite æ•°æ®åº“è´¨é‡ | ç²¾ç¡®åˆ°å…·ä½“æœåŠ¡åˆ†ç±» |
| ECS æ”¯æŒ | éœ€æ‰‹åŠ¨åœ¨ nameserver è¡ŒåŠ  `#RULES&ecs=` | åŒä¸Šï¼Œä½†é…åˆæœåŠ¡åˆ†ç±»æ›´ç²¾ç¡® |
| é…ç½®å¤æ‚åº¦ | ä½ | ä¸­ï¼ˆéœ€è¦ rule-providers å·²å®šä¹‰ï¼‰|
| DNS åˆ—è¡¨å¤ç”¨ | éœ€é‡å¤å†™ | âœ… å¯ç”¨é”šç‚¹ç»Ÿä¸€ç®¡ç† DNS æœåŠ¡å™¨åˆ—è¡¨ |

---

## ä¸ƒã€å®Œæ•´è¿›é˜¶é…ç½®æ¨¡æ¿

```yaml
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Mihomo è¿›é˜¶é…ç½®æ¨¡æ¿ Â· ç»¼åˆæ‰€æœ‰è¿›é˜¶ç‰¹æ€§
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€ å…¨å±€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mixed-port: 7890
allow-lan: false
mode: rule
log-level: warning
ipv6: false
find-process-mode: strict
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome
keep-alive-interval: 30
keep-alive-idle: 600
geodata-mode: true
geodata-loader: memconservative
geosite-matcher: succinct

external-controller: 127.0.0.1:9090
# secret: "your_strong_password"
external-ui: ui
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"

profile: { store-selected: true, store-fake-ip: true }

geox-url:
  geoip:   "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb:    "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

# â”€â”€ TUN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
tun:
  enable: true
  stack: mixed
  device: mihomo
  dns-hijack: ["any:53", "tcp://any:53"]
  auto-detect-interface: true
  auto-route: true
  strict-route: true
  mtu: 9000
  route-exclude-address: ["192.168.0.0/16", "10.0.0.0/8", "172.16.0.0/12"]

# â”€â”€ å—…æ¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sniffer:
  enable: true
  sniff:
    HTTP:  { ports: [80, 8080-8880], override-destination: true }
    TLS:   { ports: [443, 8443] }
    QUIC:  { ports: [443, 8443] }
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

# â”€â”€ DNS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  prefer-h3: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "time.*.com"
    - "+.xboxlive.com"
    - "+.nintendo.net"
    - "+.push.apple.com"
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query
  nameserver-policy:
    "geosite:cn,private":
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
    "geosite:geolocation-!cn":
      - "tls://8.8.8.8"
      - "tls://1.1.1.1"
  nameserver:
    - system
    - https://223.5.5.5/dns-query
    - https://doh.pub/dns-query

# â•â• é”šç‚¹å®šä¹‰åŒºï¼ˆé”®åä¸åœ¨ mihomo æ–‡æ¡£ä¸­ï¼Œä¼šè¢«å¿½ç•¥ï¼Œä»…ä½œ YAML å¼•ç”¨ï¼‰â•â•

# è®¢é˜…æä¾›è€…åŸºç¡€å‚æ•°
p: &p
  type: http
  interval: 86400
  health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true }
  filter: "^(?!.*(å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å…è´¹|è¯•ç”¨|å¥—é¤|é‡ç½®|è¿‡æœŸ|æµé‡|æ—¶é—´|é‚®ç®±|å®¢æœ|è®¢é˜…)).*$"

# è§„åˆ™é›†åŸºç¡€å‚æ•°
rs_classical: &rs_classical { type: http, behavior: classical, interval: 43200, format: text }
rs_domain:    &rs_domain    { type: http, behavior: domain,    interval: 43200, format: text }
rs_ipcidr:    &rs_ipcidr    { type: http, behavior: ipcidr,    interval: 43200, format: text }

# ä»£ç†ç»„åŸºç¡€å‚æ•°
g_select:   &g_select   { type: select,       url: "https://www.gstatic.com/generate_204", include-all: true }
g_urltest:  &g_urltest  { type: url-test,     url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true, tolerance: 50, timeout: 2000, max-failed-times: 3, include-all: true, hidden: true }
g_fallback: &g_fallback { type: fallback,     url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true, timeout: 2000, max-failed-times: 3, include-all: true, hidden: true }
g_balance:  &g_balance  { type: load-balance, url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true, timeout: 2000, strategy: consistent-hashing, max-failed-times: 3, include-all: true, hidden: true }

# èŠ‚ç‚¹è¿‡æ»¤æ­£åˆ™
FilterHK: &FilterHK '^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong Kong))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'
FilterTW: &FilterTW '^(?=.*(ğŸ‡¹ğŸ‡¼|å°|TW|Taiwan))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'
FilterJP: &FilterJP '^(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|Tokyo|Osaka))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'
FilterSG: &FilterSG '^(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|SG|Singapore))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'
FilterUS: &FilterUS '^(?=.*(ğŸ‡ºğŸ‡¸|ç¾|US|United States))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'
FilterKR: &FilterKR '^(?=.*(ğŸ‡°ğŸ‡·|éŸ©|KR|Korea))(?!.*(å›å›½|æ ¡å›­|å‰©ä½™|åˆ°æœŸ|å®˜ç½‘|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è¿‡æœŸ)).*$'

# â”€â”€ ä»£ç†æä¾›è€… â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-providers:
  æœºåœºè®¢é˜…:
    <<: *p
    url: "https://your-airport.com/subscribe?token=xxx"
    path: ./proxy_providers/airport.yaml

# â”€â”€ ä»£ç†ç»„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-groups:
  - name: "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies: ["ğŸŒ æ™ºèƒ½é€‰æ‹©", "âœ‹ æ‰‹åŠ¨é€‰æ‹©", DIRECT]
    include-all: true

  - name: "ğŸŒ æ™ºèƒ½é€‰æ‹©"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡°ğŸ‡· éŸ©å›½", "ğŸ‡¹ğŸ‡¼ å°æ¹¾"]

  - { name: "âœ‹ æ‰‹åŠ¨é€‰æ‹©",  <<: *g_select }

  - name: "ğŸ¤– AI æœåŠ¡"
    type: select
    proxies: ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"]

  - name: "ğŸ“¹ æµåª’ä½“"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"]

  - name: "âœˆï¸ ç”µæŠ¥æ¶ˆæ¯"
    type: select
    proxies: ["ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡­ğŸ‡° é¦™æ¸¯"]

  - name: "ğŸ è‹¹æœæœåŠ¡"
    type: select
    proxies: [DIRECT, "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡­ğŸ‡° é¦™æ¸¯"]

  - name: "â“‚ï¸ å¾®è½¯æœåŠ¡"
    type: select
    proxies: [DIRECT, "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", "ğŸ‡ºğŸ‡¸ ç¾å›½"]

  - name: "ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª"
    type: select
    proxies: [REJECT, DIRECT]

  - name: "ğŸŸ æ¼ç½‘ä¹‹é±¼"
    type: select
    proxies: ["ğŸ¯ èŠ‚ç‚¹é€‰æ‹©", DIRECT]

  # åœ°åŒºä¸‰åˆä¸€
  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯"
    type: select
    proxies: ["ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡"]
  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"
    type: select
    proxies: ["ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å›é€€", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å‡è¡¡"]
  - name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"
    type: select
    proxies: ["ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å›é€€", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å‡è¡¡"]
  - name: "ğŸ‡ºğŸ‡¸ ç¾å›½"
    type: select
    proxies: ["ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨", "ğŸ‡ºğŸ‡¸ ç¾å›½-å›é€€", "ğŸ‡ºğŸ‡¸ ç¾å›½-å‡è¡¡"]
  - name: "ğŸ‡°ğŸ‡· éŸ©å›½"
    type: select
    proxies: ["ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨", "ğŸ‡°ğŸ‡· éŸ©å›½-å›é€€", "ğŸ‡°ğŸ‡· éŸ©å›½-å‡è¡¡"]
  - name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾"
    type: select
    proxies: ["ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨", "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å›é€€", "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å‡è¡¡"]

  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", <<: *g_urltest,  filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-è‡ªåŠ¨",   <<: *g_urltest,  filter: *FilterTW }

  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€",   <<: *g_fallback, filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å›é€€", <<: *g_fallback, filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å›é€€",   <<: *g_fallback, filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-å›é€€",   <<: *g_fallback, filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-å›é€€",   <<: *g_fallback, filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å›é€€",   <<: *g_fallback, filter: *FilterTW }

  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡",   <<: *g_balance,  filter: *FilterHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å‡è¡¡", <<: *g_balance,  filter: *FilterSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-å‡è¡¡",   <<: *g_balance,  filter: *FilterJP }
  - { name: "ğŸ‡ºğŸ‡¸ ç¾å›½-å‡è¡¡",   <<: *g_balance,  filter: *FilterUS }
  - { name: "ğŸ‡°ğŸ‡· éŸ©å›½-å‡è¡¡",   <<: *g_balance,  filter: *FilterKR }
  - { name: "ğŸ‡¹ğŸ‡¼ å°æ¹¾-å‡è¡¡",   <<: *g_balance,  filter: *FilterTW }

# â”€â”€ è§„åˆ™é›† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rule-providers:
  reject_non_ip:      { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/reject.txt",          path: ./rule_set/reject_non_ip.txt }
  reject_non_ip_drop: { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/reject-drop.txt",     path: ./rule_set/reject_non_ip_drop.txt }
  reject_domainset:   { <<: *rs_domain,    url: "https://ruleset.skk.moe/Clash/domainset/reject.txt",       path: ./rule_set/reject_domainset.txt }
  ai_non_ip:          { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/ai.txt",              path: ./rule_set/ai_non_ip.txt }
  telegram_non_ip:    { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/telegram.txt",        path: ./rule_set/telegram_non_ip.txt }
  stream_non_ip:      { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/stream.txt",          path: ./rule_set/stream_non_ip.txt }
  apple_cdn:          { <<: *rs_domain,    url: "https://ruleset.skk.moe/Clash/domainset/apple_cdn.txt",    path: ./rule_set/apple_cdn.txt }
  apple_services:     { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/apple_services.txt", path: ./rule_set/apple_services.txt }
  apple_cn_non_ip:    { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/apple_cn.txt",       path: ./rule_set/apple_cn_non_ip.txt }
  microsoft_cdn_non_ip: { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/microsoft_cdn.txt", path: ./rule_set/microsoft_cdn_non_ip.txt }
  microsoft_non_ip:   { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/microsoft.txt",      path: ./rule_set/microsoft_non_ip.txt }
  global_non_ip:      { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/global.txt",         path: ./rule_set/global_non_ip.txt }
  domestic_non_ip:    { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/domestic.txt",       path: ./rule_set/domestic_non_ip.txt }
  direct_non_ip:      { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/direct.txt",         path: ./rule_set/direct_non_ip.txt }
  lan_non_ip:         { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/non_ip/lan.txt",            path: ./rule_set/lan_non_ip.txt }
  reject_ip:          { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/ip/reject.txt",             path: ./rule_set/reject_ip.txt }
  telegram_ip:        { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/ip/telegram.txt",           path: ./rule_set/telegram_ip.txt }
  stream_ip:          { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/ip/stream.txt",             path: ./rule_set/stream_ip.txt }
  domestic_ip:        { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/ip/domestic.txt",           path: ./rule_set/domestic_ip.txt }
  lan_ip:             { <<: *rs_classical, url: "https://ruleset.skk.moe/Clash/ip/lan.txt",                path: ./rule_set/lan_ip.txt }
  china_ip:           { <<: *rs_ipcidr,    url: "https://ruleset.skk.moe/Clash/ip/china_ip.txt",           path: ./rule_set/china_ip.txt }

# â”€â”€ è·¯ç”±è§„åˆ™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rules:
  # é IP ç±»ï¼ˆä¸è§¦å‘ DNS è§£æï¼‰
  - RULE-SET,reject_non_ip,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject_domainset,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,reject_non_ip_drop,REJECT-DROP
  - RULE-SET,ai_non_ip,ğŸ¤– AI æœåŠ¡
  - RULE-SET,telegram_non_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,stream_non_ip,ğŸ“¹ æµåª’ä½“
  - RULE-SET,apple_cdn,DIRECT
  - RULE-SET,apple_cn_non_ip,DIRECT
  - RULE-SET,apple_services,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,microsoft_cdn_non_ip,DIRECT
  - RULE-SET,microsoft_non_ip,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,global_non_ip,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,domestic_non_ip,DIRECT
  - RULE-SET,direct_non_ip,DIRECT
  - RULE-SET,lan_non_ip,DIRECT
  # IP ç±»ï¼ˆä¼šè§¦å‘ DNS è§£æï¼Œæ”¾åœ¨æœ€åï¼‰
  - RULE-SET,reject_ip,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,telegram_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,stream_ip,ğŸ“¹ æµåª’ä½“
  - RULE-SET,lan_ip,DIRECT
  - RULE-SET,domestic_ip,DIRECT
  - RULE-SET,china_ip,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
```

---

# é™„å½•

## å…«ã€å¸¸è§é—®é¢˜ä¸æ’æŸ¥

**Qï¼šå¯åŠ¨æŠ¥é”™ `yaml: line N: did not find expected...`**

è¿™æ˜¯ YAML æ ¼å¼é”™è¯¯ã€‚æœ€å¸¸è§åŸå› ï¼šæ··ç”¨äº† Tab å’Œç©ºæ ¼ï¼›å†’å·åé¢æ²¡æœ‰åŠ ç©ºæ ¼ï¼›å­—ç¬¦ä¸²é‡Œæœ‰ç‰¹æ®Šå­—ç¬¦æ²¡æœ‰ç”¨å¼•å·åŒ…è£¹ã€‚å»ºè®®ç”¨ VS Code å®‰è£… YAML æ’ä»¶ï¼Œå®ƒä¼šå®æ—¶æ ‡çº¢é”™è¯¯ã€‚

**Qï¼š`mode: global` èƒ½ç¿»å¢™ä½† `mode: rule` ä¸è¡Œï¼Ÿ**

è¯´æ˜è§„åˆ™å†™é”™äº†ã€‚æœ€å¤§å¯èƒ½ï¼šå›½å¤–åŸŸåè¢«æŸæ¡è§„åˆ™åŒ¹é…åˆ° DIRECTï¼Œæˆ–è€…å›½å†… IP è¢«åŒ¹é…åˆ°ä»£ç†ã€‚è°ƒè¯•æ­¥éª¤ï¼šåœ¨ Web é¢æ¿çš„ Logs é‡ŒæŸ¥çœ‹å“ªæ¡è§„åˆ™å‘½ä¸­äº†é—®é¢˜æµé‡ï¼Œå†é’ˆå¯¹æ€§è°ƒæ•´ã€‚

**Qï¼šèŠ‚ç‚¹å»¶è¿Ÿæ­£å¸¸ä½†æŸäº›ç½‘ç«™æ‰“ä¸å¼€ï¼Ÿ**

å¦‚æœæ˜¯ `fake-ip` æ¨¡å¼ä¸‹çš„ç‰¹å®šåº”ç”¨ï¼ˆæ¸¸æˆã€æŸäº› APPï¼‰ï¼Œå¯èƒ½è¯¥åº”ç”¨ä¸å…¼å®¹ fake-ipï¼Œå°è¯•æŠŠå®ƒçš„åŸŸååŠ å…¥ `fake-ip-filter`ã€‚å¦‚æœæ˜¯æ‰€æœ‰ç½‘ç«™éƒ½æ…¢ï¼Œæ£€æŸ¥ DNS é…ç½®ï¼Œç¡®è®¤ `proxy-server-nameserver` æ­£å¸¸å·¥ä½œã€‚

**Qï¼šå¼€å¯ TUN å DNS æŸ¥è¯¢å¾ˆæ…¢ï¼Ÿ**

ç¡®è®¤ `dns-hijack: ["any:53"]` å·²è®¾ç½®ï¼Œä¸” `sniffer` å·²å¼€å¯ã€‚å¦‚æœ `strict-route: true` å¯¼è‡´æŸäº›æµé‡å¼‚å¸¸ï¼Œå°è¯•å…³é—­ä¸¥æ ¼è·¯ç”±ã€‚

**Qï¼š`dialer-proxy` é…ç½®åèŠ‚ç‚¹æµ‹é€Ÿå¤±è´¥ï¼Ÿ**

è½åœ°èŠ‚ç‚¹çš„æœåŠ¡ç«¯åè®®ä¸èƒ½æ˜¯çº¯ UDP ç±»å‹ï¼ˆå¦‚ `hysteria2`ã€`tuic`ï¼‰ï¼Œå› ä¸º dialer-proxy é“¾çš„ TCP è¿æ¥æ— æ³•æ‰¿è½½è¿™äº›åè®®çš„ UDP æ•°æ®ã€‚è½åœ°èŠ‚ç‚¹è¯·é€‰ç”¨ `ss`ï¼ˆAEADï¼‰æˆ– `vmess` / `trojan`ã€‚

**Qï¼šè§„åˆ™é›†æ›´æ–°å¤±è´¥ / ä¸‹è½½å¾ˆæ…¢ï¼Ÿ**

å°† `proxy-providers` å’Œ `rule-providers` çš„æ›´æ–°è¯·æ±‚é€šè¿‡ä»£ç†æ‹‰å–ï¼šåœ¨ç›¸åº” provider ä¸­åŠ å…¥ `proxy: "ğŸ¯ èŠ‚ç‚¹é€‰æ‹©"` å­—æ®µï¼Œè®©æ›´æ–°è¯·æ±‚èµ°ä»£ç†å‡ºå»ã€‚

---

## æ¨èèµ„æº

| ç±»å‹ | åç§° | åœ°å€ |
|------|------|------|
| è§„åˆ™é›†ï¼ˆå¼ºçƒˆæ¨èï¼‰ | SukkA RuleSet | [ruleset.skk.moe](https://ruleset.skk.moe/) |
| è§„åˆ™æ•°æ®åº“ | MetaCubeX meta-rules-dat | [github.com/MetaCubeX/meta-rules-dat](https://github.com/MetaCubeX/meta-rules-dat) |
| é…ç½®å‚è€ƒ | iyyh è‡ªç”¨é…ç½® | [iyyh.net/posts/mihomo-self-config](https://iyyh.net/posts/mihomo-self-config) |
| é…ç½®åˆé›† | HenryChiao YAMLS | [github.com/HenryChiao/MIHOMO_YAMLS](https://github.com/HenryChiao/MIHOMO_YAMLS) |
| å®˜æ–¹æ–‡æ¡£ | è™šç©ºç»ˆç«¯ Docs | [wiki.metacubex.one](https://wiki.metacubex.one/) |
| DNS æ·±åº¦è§£æ | SukkA DNS æ–‡ç«  | [blog.skk.moe/post/lets-talk-about-dns-cdn-fake-ip](https://blog.skk.moe/post/lets-talk-about-dns-cdn-fake-ip/) |
| Web é¢æ¿ | MetaCubeX Dashboard | [github.com/MetaCubeX/metacubexd](https://github.com/MetaCubeX/metacubexd) |
| Web é¢æ¿ | Zashboard | [github.com/Zephyruso/zashboard](https://github.com/Zephyruso/zashboard) |
| å®¢æˆ·ç«¯ï¼ˆWindows/Linux/macOSï¼‰ | Clash Verge Rev | [github.com/clash-verge-rev/clash-verge-rev](https://github.com/clash-verge-rev/clash-verge-rev) |
| å®¢æˆ·ç«¯ï¼ˆWindowsï¼‰ | Sparkle | [github.com/xishang0128/sparkle](https://github.com/xishang0128/sparkle) |

---

> **ä¸€å¥è¯æ€»ç»“ï¼š** ä¸è¦å¤åˆ¶ä½ çœ‹ä¸æ‡‚çš„é…ç½®ã€‚ä»å°ç™½çš„æœ€å°ç¤ºä¾‹å‡ºå‘ï¼Œæ¯è§£å†³ä¸€ä¸ª"è¿™é‡Œä¸å¯¹åŠ²"å°±å¤šç†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œé…ç½®æ–‡ä»¶æ˜¯ä½ å¯¹è‡ªå·±ç½‘ç»œéœ€æ±‚çš„ç²¾ç¡®è¡¨è¾¾ï¼Œæ²¡æœ‰"æœ€å¥½çš„é…ç½®"ï¼Œåªæœ‰æœ€é€‚åˆä½ çš„é…ç½®ã€‚

---

## YAML é”šç‚¹ï¼šè¿›é˜¶é…ç½®çš„çµé­‚

å½“ä½ æœ‰å¤§é‡ç»“æ„ç›¸åŒçš„é…ç½®é¡¹ï¼ˆæ¯”å¦‚å‡ åä¸ªä»£ç†ç»„éƒ½è¦å†™ç›¸åŒçš„ `url`ã€`interval`ã€`timeout`ï¼‰ï¼Œå°±å¯ä»¥ç”¨ YAML é”šç‚¹æ¥æ¶ˆé™¤é‡å¤ï¼š

```yaml
# & å®šä¹‰é”šç‚¹ï¼Œç»™è¿™å—å†…å®¹èµ·ä¸€ä¸ªåå­—
# * å¼•ç”¨é”šç‚¹
# <<: å°†å¼•ç”¨çš„å†…å®¹"åˆå¹¶"è¿›å½“å‰å¯¹è±¡ï¼ˆè¦†ç›–åŒåé”®ï¼Œç¼ºå¤±çš„é”®åˆ™è¡¥å…¥ï¼‰

# ç¬¬ä¸€æ­¥ï¼šåœ¨é¡¶å±‚å®šä¹‰é”šç‚¹ï¼ˆé”®å p ä¸å­˜åœ¨äº mihomoï¼Œä¼šè¢«å¿½ç•¥ï¼Œåªç”¨äºé”šç‚¹ï¼‰
p: &p                         # &p ç»™è¿™ä¸ªå—èµ·åå« p
  type: http
  interval: 86400
  health-check:
    enable: true
    url: "https://www.gstatic.com/generate_204"
    interval: 300
    lazy: true

# ç¬¬äºŒæ­¥ï¼šåœ¨ proxy-providers ä¸­ç”¨ <<: *p å¼•ç”¨
proxy-providers:
  æœºåœºA:
    <<: *p                    # æŠŠ p é”šç‚¹çš„æ‰€æœ‰å­—æ®µåˆå¹¶è¿›æ¥
    url: "https://your-airport-a.com/subscribe?token=xxx"
    path: ./proxy_providers/airport-a.yaml

  æœºåœºB:
    <<: *p                    # åŒæ ·å¼•ç”¨ pï¼Œé¿å…é‡å¤
    url: "https://your-airport-b.com/subscribe?token=xxx"
    path: ./proxy_providers/airport-b.yaml
```

ç­‰ä»·å±•å¼€åæ˜¯ï¼š

```yaml
proxy-providers:
  æœºåœºA:
    type: http
    interval: 86400
    health-check: { enable: true, url: "...", interval: 300, lazy: true }
    url: "https://your-airport-a.com/subscribe?token=xxx"
    path: ./proxy_providers/airport-a.yaml
  # æœºåœºB åŒç†...
```

**æ³¨æ„ï¼š** é”šç‚¹å†…æœ‰é‡å¤é”®æ—¶ï¼Œå½“å‰å—çš„é”®ä¼˜å…ˆï¼ˆä¸ä¼šè¢«é”šç‚¹è¦†ç›–ï¼‰ã€‚ä¾‹å¦‚ `æœºåœºB` é‡Œå¦‚æœå•ç‹¬å†™äº† `interval: 43200`ï¼Œåˆ™è¯¥å€¼è¦†ç›–é”šç‚¹é‡Œçš„ `86400`ã€‚

---

### ğŸ“Š å„æµæ´¾é”šç‚¹å†™æ³•å¯¹æ¯”

ç¤¾åŒºé‡Œå­˜åœ¨å››ç§ä¸»è¦çš„é”šç‚¹ä½¿ç”¨é£æ ¼ï¼Œå„æœ‰ä¾§é‡ï¼Œæ²¡æœ‰ç»å¯¹çš„å¥½åï¼Œç†è§£åŒºåˆ«åé€‰æ‹©é€‚åˆè‡ªå·±çš„å³å¯ã€‚

---

**æµæ´¾ä¸€ï¼šåªé”šå®š proxy-providersï¼ˆæœ€ç®€å•ï¼Œå…¥é—¨é¦–é€‰ï¼‰**

```yaml
# æ¥æºï¼šå¤§é‡å…¥é—¨æ•™ç¨‹ã€å®˜æ–¹ç¤ºä¾‹
p: &p
  type: http
  interval: 86400
  health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300 }

proxy-providers:
  æœºåœºA: { <<: *p, url: "...", path: ./proxy_providers/a.yaml }
  æœºåœºB: { <<: *p, url: "...", path: ./proxy_providers/b.yaml }

# proxy-groups éƒ¨åˆ†ä»ç„¶æ‰‹å†™ï¼Œæ²¡æœ‰é”šç‚¹
proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    use: [æœºåœºA, æœºåœºB]
    proxies: [DIRECT]
```

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| ç»“æ„æ¸…æ™°ï¼Œä¸€çœ¼çœ‹æ‡‚ | proxy-groups éƒ¨åˆ†ä»æœ‰å¤§é‡é‡å¤ |
| å¯¹æ–°æ‰‹å‹å¥½ï¼Œæ˜“äºè°ƒè¯• | åœ°åŒºç»„å¤šæ—¶ç»´æŠ¤æˆæœ¬ä¸Šå‡ |
| ä¿®æ”¹ provider å‚æ•°åªéœ€æ”¹ä¸€å¤„ | ä¸é€‚åˆåå‡ ä¸ªåœ°åŒºçš„å¤§å‹é…ç½® |

---

**æµæ´¾äºŒï¼šproviders + groups å…¨éƒ¨é”šå®šï¼ˆiyyh é£æ ¼ï¼Œç¤¾åŒºä¸»æµï¼‰**

```yaml
# æ¥æºï¼šiyyh è‡ªç”¨é…ç½® / å¤šæ•°è¿›é˜¶æ•™ç¨‹
# ç‰¹ç‚¹ï¼šåŒæ—¶é”šå®š provider å‚æ•° å’Œ group ç±»å‹å‚æ•°ï¼Œfilter æ­£åˆ™ä¹Ÿé”šå®šä¸ºå­—ç¬¦ä¸²

NodeParam: &NodeParam
  type: http
  interval: 86400
  health-check: { enable: true, url: "https://...", interval: 300 }

# ä»£ç†ç»„å››ç§ç±»å‹å…¨éƒ¨é”šå®š
Select:    &Select    { type: select,       include-all: true }
UrlTest:   &UrlTest   { type: url-test,     include-all: true, interval: 300, lazy: true, tolerance: 50, timeout: 2000, hidden: true }
FallBack:  &FallBack  { type: fallback,     include-all: true, interval: 300, lazy: true, timeout: 2000, hidden: true }
LoadBalance: &LoadBalance { type: load-balance, include-all: true, interval: 300, lazy: true, strategy: consistent-hashing, hidden: true }

# filter æ­£åˆ™ä¹Ÿé”šå®šä¸ºå­—ç¬¦ä¸²å¼•ç”¨
FilterHK: &FilterHK '^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK))(?!.*(å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$'

proxy-providers:
  Node: { <<: *NodeParam, url: "...", path: ./proxy_providers/node.yaml }

proxy-groups:
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨",   <<: *UrlTest,    filter: *FilterHK }
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€",   <<: *FallBack,   filter: *FilterHK }
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡",   <<: *LoadBalance, filter: *FilterHK }
  - { name: "ğŸ‡­ğŸ‡° æ‰‹åŠ¨é€‰æ‹©",   <<: *Select,     filter: *FilterHK }
```

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| æå¤§å‡å°‘é‡å¤ï¼Œåœ°åŒºç»„å¢å‡åªéœ€ä¸€è¡Œ | åˆæ¬¡é˜…è¯»æœ‰ä¸€å®šç†è§£é—¨æ§› |
| filter é”šç‚¹ä¿è¯æ­£åˆ™ä¸€è‡´ï¼Œä¸æ€•æ”¹æ¼ | è°ƒè¯•æ—¶éœ€è¦å±•å¼€é”šç‚¹æ‰èƒ½çœ‹å®Œæ•´å‚æ•° |
| æ˜¯ç›®å‰ç¤¾åŒºæœ€ä¸»æµçš„è¿›é˜¶å†™æ³• | `<<:` åˆå¹¶ä¸èƒ½è¦†ç›–æ•°ç»„ï¼Œåªèƒ½æ•´ä½“æ›¿æ¢ |

---

**æµæ´¾ä¸‰ï¼šproxies é€‰é¡¹ä¹Ÿé”šå®šï¼ˆæ—§å¼å…¼å®¹å†™æ³•ï¼‰**

```yaml
# æ¥æºï¼šéƒ¨åˆ†æ—©æœŸæ•™ç¨‹ï¼Œå®˜æ–¹ç¤ºä¾‹ä¸­ä¹Ÿæœ‰ä½“ç°
# ç‰¹ç‚¹ï¼šæŠŠä¸€ç»„ proxy-groups é‡Œå¸¸ç”¨çš„ proxies åˆ—è¡¨ä¹Ÿåšæˆé”šç‚¹ï¼Œæ–¹ä¾¿å¤šä¸ªåŠŸèƒ½ç»„å¤ç”¨

# ä¸€ä¸ª"é€šç”¨å¤‡é€‰èŠ‚ç‚¹åˆ—è¡¨"
pr: &pr
  type: select
  proxies: ["æ‰‹åŠ¨é€‰æ‹©", "è‡ªåŠ¨é€‰æ‹©", "ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡", "ğŸ‡ºğŸ‡¸ ç¾å›½", DIRECT]

proxy-groups:
  - name: "ğŸ¤– AI æœåŠ¡"
    <<: *pr              # ç›´æ¥ç»§æ‰¿å®Œæ•´ proxies åˆ—è¡¨

  - name: "ğŸ“¹ æµåª’ä½“"
    <<: *pr              # åŒä¸€å¥—é€‰é¡¹

  - name: "âœˆï¸ ç”µæŠ¥æ¶ˆæ¯"
    <<: *pr
```

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| åŠŸèƒ½ç»„çš„ proxies é€‰é¡¹ä¿æŒç»Ÿä¸€ï¼Œä¸å®¹æ˜“æ¼å†™ | å„åŠŸèƒ½ç»„çš„é¦–é€‰èŠ‚ç‚¹æ— æ³•ä¸ªæ€§åŒ–ï¼ˆæ¯”å¦‚ AI æƒ³é»˜è®¤ç¾å›½ã€æµåª’ä½“æƒ³é»˜è®¤é¦™æ¸¯ï¼‰ |
| é…ç½®æçŸ­ï¼Œé€‚åˆ"æ‡’äºº"åœºæ™¯ | å¦‚æœæŸä¸ªåŠŸèƒ½ç»„éœ€è¦ä¸åŒçš„ proxies é¡ºåºï¼Œé”šç‚¹å°±æ— æ³•æ»¡è¶³ï¼Œåè€Œè¦é¢å¤–å¤„ç† |
| | éšç€éœ€æ±‚å¤æ‚ï¼Œè¿™ç§é”šå®šæ–¹å¼å¾€å¾€æœ€ç»ˆè¢«æ”¾å¼ƒ |

> **æ³¨æ„ä¸€ä¸ª YAML é™åˆ¶ï¼š** `<<:` åˆå¹¶æ—¶ï¼Œå¦‚æœé”šç‚¹å’Œå½“å‰å—éƒ½æœ‰åŒåçš„åˆ—è¡¨é”®ï¼ˆå¦‚ `proxies`ï¼‰ï¼Œ**ä¸ä¼šåˆå¹¶åˆ—è¡¨ï¼Œè€Œæ˜¯å½“å‰å—çš„å€¼æ•´ä½“è¦†ç›–é”šç‚¹çš„å€¼**ã€‚æ‰€ä»¥ `<<: *pr` + å•ç‹¬å†™ `proxies:` æ—¶ï¼Œå•ç‹¬å†™çš„ `proxies` å®Œå…¨æ›¿æ¢é”šç‚¹é‡Œçš„ `proxies`ï¼Œä¸¤ä¸ªåˆ—è¡¨ä¸ä¼šåˆå¹¶ã€‚

---

**æµæ´¾å››ï¼šå•è¡Œ JSON èŠ±æ‹¬å· + é”šç‚¹æç®€å†™æ³•ï¼ˆHenryChiao / YYDS ç­‰é…ç½®åˆé›†é£æ ¼ï¼‰**

```yaml
# æ¥æºï¼šHenryChiao YAMLSã€666OS/YYDS ç­‰é‡åº¦é…ç½®åˆé›†
# ç‰¹ç‚¹ï¼šæŠŠé”šç‚¹å’Œå•è¡ŒèŠ±æ‹¬å·ç»“åˆåˆ°æè‡´ï¼Œä¸€è¡Œä¸€ä¸ª groupï¼Œè§†è§‰ä¸Šç±»ä¼¼è¡¨æ ¼

# é”šç‚¹å®šä¹‰
p:  &p  { type: http, interval: 86400, health-check: { enable: true, url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true } }
g_t: &g_t { type: url-test,  url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true, tolerance: 50, timeout: 2000, include-all: true, hidden: true }
g_f: &g_f { type: fallback,  url: "https://www.gstatic.com/generate_204", interval: 300, lazy: true, timeout: 2000, include-all: true, hidden: true }
g_b: &g_b { type: load-balance, url: "https://www.gstatic.com/generate_204", interval: 300, strategy: consistent-hashing, include-all: true, hidden: true }
FHK: &FHK '^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ|è®¢é˜…)).*$'
FSG: &FSG '^(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|SG|Singapore))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ|è®¢é˜…)).*$'
FJP: &FJP '^(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ|è®¢é˜…)).*$'

proxy-providers:
  æœºåœºA: { <<: *p, url: "...", path: ./proxy_providers/a.yaml }
  æœºåœºB: { <<: *p, url: "...", path: ./proxy_providers/b.yaml }

proxy-groups:
  # åœ°åŒºä¸‰åˆä¸€ï¼Œä¸€æ°”å‘µæˆ
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-è‡ªåŠ¨", <<: *g_t, filter: *FHK }
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å›é€€", <<: *g_f, filter: *FHK }
  - { name: "ğŸ‡­ğŸ‡° é¦™æ¸¯-å‡è¡¡", <<: *g_b, filter: *FHK }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-è‡ªåŠ¨", <<: *g_t, filter: *FSG }
  - { name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-å›é€€", <<: *g_f, filter: *FSG }
  - { name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬-è‡ªåŠ¨",   <<: *g_t, filter: *FJP }
  # ... æ¯ä¸ªåœ°åŒºä¸‰è¡Œï¼Œæå…¶æ•´é½
```

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| é…ç½®æ–‡ä»¶æœ€çŸ­ï¼Œè§†è§‰æœ€æ•´æ´ï¼Œåƒè¡¨æ ¼ä¸€æ ·ä¸€ç›®äº†ç„¶ | å¯¹ YAML é”šç‚¹ä¸ç†Ÿæ‚‰çš„äººå‡ ä¹æ— æ³•è¯»æ‡‚ |
| å¢åŠ ä¸€ä¸ªåœ°åŒºåªéœ€åŠ ä¸‰è¡Œï¼Œç»´æŠ¤æˆæœ¬æä½ | å•è¡ŒèŠ±æ‹¬å·ä¸èƒ½åŠ æ³¨é‡Šï¼Œè°ƒè¯•å›°éš¾ |
| ç»“æ„é«˜åº¦ä¸€è‡´ï¼Œé€‚åˆå¤§å‹é…ç½®ï¼ˆå‡ åä¸ªåœ°åŒºï¼‰ | é”šç‚¹åç§°çŸ­ï¼ˆå¦‚ `g_t`ï¼‰ä¸è¯­ä¹‰åŒ–ï¼Œéœ€è¦é…å¥—æ–‡æ¡£ |
| æ˜¯ç›®å‰å¤§å‹é…ç½®ä»“åº“çš„ä¸»æµåšæ³• | ä¸€æ—¦æŸä¸ª group éœ€è¦ç‰¹æ®Šå‚æ•°ï¼Œè¦å•ç‹¬å¤„ç†ï¼Œç ´åæ•´é½æ„Ÿ |

---

**æµæ´¾äº”ï¼šä¸‰å±‚åµŒå¥—é”šç‚¹ï¼ˆç†è®ºæœ€ä¼˜ï¼Œæœ‰é‡è¦é™åˆ¶ï¼‰**

è¿™æ˜¯æ¥è‡ª [HenryChiao MIHOMO_AIO](https://github.com/HenryChiao/MIHOMO_AIO) ä»¥åŠ issue #2274 ä¸­ç¤¾åŒºç”¨æˆ·æè®®çš„ç»ˆæå†™æ³•ï¼Œæ€è·¯æ˜¯æŠŠé”šç‚¹å†æ‹†ä¸€å±‚ï¼š**åŸºç¡€å‚æ•°å±‚** â†’ **ç»„ç±»å‹å±‚** â†’ **åœ°åŒºå±‚**ï¼Œä¸‰å±‚çº§è”ç»§æ‰¿ã€‚

```yaml
# æ¥æºï¼šHenryChiao AIO / ç¤¾åŒº Issue #2274 çš„ç†æƒ³å†™æ³•
# æ€è·¯ï¼šæŠŠ"å…¬å…±åŸºç¡€"ã€"ç»„ç±»å‹"ã€"åœ°åŒº filter+icon" å„è‡ªé”šå®šï¼Œç„¶ååˆå¹¶

# ç¬¬ä¸€å±‚ï¼šæ‰€æœ‰ group å…±äº«çš„åŸºç¡€å‚æ•°
area: &area
  url: "https://www.gstatic.com/generate_204"
  interval: 300
  include-all: true
  lazy: true
  timeout: 2000

# ç¬¬äºŒå±‚ï¼šåœ¨ area åŸºç¡€ä¸Šå åŠ å„ç±»å‹ç‰¹æœ‰å‚æ•°
auto:  &auto  { type: url-test,      <<: *area, tolerance: 50, max-failed-times: 3, hidden: true }
fall:  &fall  { type: fallback,      <<: *area, max-failed-times: 3, hidden: true }
bal:   &bal   { type: load-balance,  <<: *area, strategy: consistent-hashing, hidden: true }

# ç¬¬ä¸‰å±‚ï¼šæ¯ä¸ªåœ°åŒºçš„ filter + icon ä¹Ÿé”šå®šæˆä¸€ä¸ªå¯¹è±¡
hk: &hk { filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$", icon: "https://example.com/hk.svg" }
sg: &sg { filter: "^(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|SG|Singapore))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$", icon: "https://example.com/sg.svg" }
jp: &jp { filter: "^(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$", icon: "https://example.com/jp.svg" }

# â”€â”€ ç†æƒ³å†™æ³•ï¼ˆç›®å‰ mihomo ä¸æ”¯æŒï¼ä¼šé™é»˜å¿½ç•¥ç¬¬äºŒä¸ª <<:ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-groups:
  - { name: "é¦™æ¸¯|è‡ªåŠ¨", <<: *auto, <<: *hk }   # âŒ ç¬¬äºŒä¸ª <<: *hk è¢«å¿½ç•¥
  - { name: "é¦™æ¸¯|å›é€€", <<: *fall, <<: *hk }   # âŒ icon å’Œ filter éƒ½ä¸¢å¤±
  - { name: "é¦™æ¸¯|å‡è¡¡", <<: *bal,  <<: *hk }   # âŒ åŒä¸Š

# â”€â”€ å½“å‰å®é™…å¯ç”¨çš„ç»•è¿‡å†™æ³•ï¼ˆæ‰‹åŠ¨æŠŠ filter å’Œ icon å†™è¿›å»ï¼‰â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-groups:
  - { name: "é¦™æ¸¯|è‡ªåŠ¨", <<: *auto, filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$", icon: "https://example.com/hk.svg" }
  - { name: "é¦™æ¸¯|å›é€€", <<: *fall, filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å›å›½|å‰©ä½™|åˆ°æœŸ|å®¢æœ)).*$", icon: "https://example.com/hk.svg" }
  # æˆ–è€…ç”¨å­—ç¬¦ä¸²é”šç‚¹æ›¿ä»£ filterï¼Œä½† icon è¿˜æ˜¯å¾—é‡å¤å†™ï¼š
  - { name: "é¦™æ¸¯|è‡ªåŠ¨", <<: *auto, filter: *hk_filter, icon: "https://example.com/hk.svg" }
```

> **âš ï¸ å…³é”®é™åˆ¶ï¼ˆæ¥è‡ª [mihomo issue #2274](https://github.com/MetaCubeX/mihomo/issues/2274)ï¼Œäº 2025 å¹´ 9 æœˆæå‡ºï¼Œclosed as not plannedï¼‰ï¼š**
>
> åœ¨**å•è¡Œ JSON èŠ±æ‹¬å·**æ ¼å¼ä¸­ï¼Œmihomo ç›®å‰åªæ”¯æŒ**ä¸€ä¸ª** `<<:` åˆå¹¶æ“ä½œã€‚å¦‚æœä½ å†™äº†ä¸¤ä¸ª `<<:`ï¼ˆå¦‚ `{ <<: *auto, <<: *hk }`ï¼‰ï¼Œç¬¬äºŒä¸ªä¼šè¢« YAML è§£æå™¨é™é»˜å¿½ç•¥ï¼ˆYAML è§„èŒƒä¸­åŒåé”®åè€…è¦†ç›–å‰è€…ï¼Œè€Œ `<<:` æœ¬èº«å°±æ˜¯ä¸€ä¸ªé”®ï¼‰ã€‚
>
> **æ ‡å‡†å¤šè¡Œ YAML æ ¼å¼ä¸­ä¹Ÿæœ‰åŒæ ·é™åˆ¶**â€”â€”å¤šä¸ª `<<:` åœ¨ YAML 1.1 è§„èŒƒé‡Œç†è®ºä¸Šæ˜¯å…è®¸çš„ï¼Œä½† mihomo ä½¿ç”¨çš„ Go YAML åº“åªå¤„ç†ç¬¬ä¸€ä¸ªã€‚
>
> ç»“è®ºï¼š**ä¸‰å±‚é”šç‚¹æ€è·¯æ˜¯æœ€ä¼˜é›…çš„ï¼Œä½†ç¬¬ä¸‰å±‚ï¼ˆåœ°åŒºçš„ filter+iconï¼‰ç›®å‰æ— æ³•é€šè¿‡ç¬¬äºŒä¸ª `<<:` åˆå¹¶è¿›æ¥ï¼Œåªèƒ½æ‰‹å†™æˆ–ç”¨å­—ç¬¦ä¸²é”šç‚¹æ›¿ä»£ filterã€‚** ç­‰è¿™ä¸ªç‰¹æ€§è¢«æ”¯æŒåï¼Œæµæ´¾äº”å°†æ˜¯æœ€æ¨èçš„å†™æ³•ã€‚

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| é€»è¾‘åˆ†å±‚æœ€æ¸…æ™°ï¼Œä¿®æ”¹åŸºç¡€å‚æ•°åªéœ€æ”¹ `area`ï¼Œæ”¹æŸç±»å‹å‚æ•°åªéœ€æ”¹ `auto`/`fall` ç­‰ | å¤š `<<:` åˆå¹¶ç›®å‰ä¸è¢«æ”¯æŒï¼Œç¬¬ä¸‰å±‚åœ°åŒºé”šç‚¹åªæ˜¯"ç†æƒ³" |
| å¢åŠ æ–°åœ°åŒºç†è®ºä¸Šåªéœ€åŠ ä¸€è¡Œ | ç°å®ä¸­ä»éœ€æ‰‹åŠ¨é‡å¤ filter/iconï¼Œéƒ¨åˆ†æŠµæ¶ˆäº†ä¼˜é›…æ€§ |
| icon å‚æ•°ä¸ filter æ‰“åŒ…ï¼Œè§†è§‰ç®¡ç†æ›´æ–¹ä¾¿ | ä¸‰å±‚åµŒå¥—å¯¹æ–°æ‰‹å®Œå…¨ä¸å‹å¥½ï¼Œè°ƒè¯•é“¾è·¯æ›´é•¿ |
| ä»£è¡¨äº†ç¤¾åŒºå¯¹é”šç‚¹ç”¨æ³•çš„æœ€æ–°æ¢ç´¢æ–¹å‘ | å½“å‰æœ€ä½³å®è·µä»æ˜¯æµæ´¾äºŒæˆ–æµæ´¾å››ï¼Œè€Œéæµæ´¾äº” |

---

**æµæ´¾å…­ï¼ˆaï¼‰ï¼šå®˜æ–¹ geox å¿«æ·é…ç½®é£æ ¼ï¼ˆ`pr` æç®€é”šç‚¹ï¼Œæ¥è‡ªå®˜æ–¹ Wiki ç¤ºä¾‹ï¼‰**

è¿™æ˜¯ [MetaCubeX å®˜æ–¹ Wiki å¿«æ·é…ç½®ç¤ºä¾‹](https://wiki.metacubex.one/example/conf/)çš„å†™æ³•ï¼Œä¹Ÿæ˜¯æ—©æœŸç¤¾åŒºæ•™ç¨‹å¹¿æ³›æµä¼ çš„æ ¼å¼ã€‚

```yaml
# æ¥æºï¼šå®˜æ–¹ Wiki geox å¿«æ·é…ç½® / Discussion #1024
# ç‰¹ç‚¹ï¼šåªé”šå®š"åŠŸèƒ½ç»„å€™é€‰åˆ—è¡¨"ï¼Œåœ°åŒºç»„ç›´æ¥ include-all-providers

pr: &pr
  type: select
  proxies:
    - é»˜è®¤
    - é¦™æ¸¯
    - å°æ¹¾
    - æ—¥æœ¬
    - æ–°åŠ å¡
    - ç¾å›½
    - å…¨éƒ¨èŠ‚ç‚¹
    - è‡ªåŠ¨é€‰æ‹©
    - DIRECT

p: &p
  type: http
  interval: 3600
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    interval: 300

proxy-providers:
  provider1: { <<: *p, url: "..." }
  provider2: { <<: *p, url: "..." }

proxy-groups:
  # é¡¶å±‚å’ŒåŠŸèƒ½ç»„å…¨éƒ¨ç”¨ pr é”šç‚¹ï¼ˆæç®€ä¸¤è¡Œï¼‰
  - { name: é»˜è®¤,      type: select, proxies: [è‡ªåŠ¨é€‰æ‹©, DIRECT, é¦™æ¸¯, å°æ¹¾, æ—¥æœ¬, æ–°åŠ å¡, ç¾å›½, å…¨éƒ¨èŠ‚ç‚¹] }
  - { name: Google,    <<: *pr }
  - { name: Telegram,  <<: *pr }
  - { name: YouTube,   <<: *pr }
  - { name: NETFLIX,   <<: *pr }
  # åœ°åŒºç»„ï¼šinclude-all-providers ç›´æ¥å–æ‰€æœ‰ providerï¼ŒæŒ‰ filter ç­›é€‰
  - { name: é¦™æ¸¯, type: select, include-all-providers: true, filter: "(?i)æ¸¯|hk|hongkong|hong kong" }
  - { name: å°æ¹¾, type: select, include-all-providers: true, filter: "(?i)å°|tw|taiwan" }
  - { name: å…¨éƒ¨èŠ‚ç‚¹,   type: select, include-all-providers: true }
  - { name: è‡ªåŠ¨é€‰æ‹©,   type: url-test, include-all-providers: true, tolerance: 10 }
```

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| é…ç½®æ–‡ä»¶æçŸ­ï¼Œå³æŠ„å³ç”¨ï¼Œé€‚åˆæ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ | æ‰€æœ‰åŠŸèƒ½ç»„å€™é€‰åˆ—è¡¨å®Œå…¨ç›¸åŒï¼Œæ— æ³•ç»™ AI é…ç¾å›½ä¼˜å…ˆã€ç»™æµåª’ä½“é…é¦™æ¸¯ä¼˜å…ˆ |
| å®˜æ–¹ç»´æŠ¤ï¼Œå†™æ³•ç¨³å®šï¼Œä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹è§„åˆ™é›† | åœ°åŒºç»„ç”¨ select è€Œä¸æ˜¯ url-testï¼Œæ²¡æœ‰è‡ªåŠ¨æµ‹é€Ÿ |
| åŠŸèƒ½ç»„ç”¨ `<<: *pr` ä¸€è¡Œæå®šï¼Œå¯¹åº”åˆ° `pr` é”šç‚¹å°±çŸ¥é“æœ‰å“ªäº›é€‰é¡¹ | ä¸€æ—¦éœ€è¦å·®å¼‚åŒ–ï¼Œè¿™ç§æ¨¡å¼å°±è¦å¤§æ”¹ï¼Œæ‰©å±•æ€§å·® |
| ä½œä¸ºæ¨¡æ¿èµ·ç‚¹å¾ˆå¥½ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šé€æ­¥æ·»åŠ åŠŸèƒ½ | ä¸åŒºåˆ†"è‡ªåŠ¨æµ‹é€Ÿ"å’Œ"æ‰‹åŠ¨é€‰æ‹©"å±‚æ¬¡ï¼Œç»“æ„æ¯”è¾ƒæ‰å¹³ |

---

**æµæ´¾å…­ï¼ˆbï¼‰ï¼šechs-top é£æ ¼ï¼ˆ`use` é”šç‚¹åµŒå¥— + `zl`/`dl` åŒæ¨¡æ¿ï¼Œæ¥è‡ªçœŸå®ä¸ªäººé…ç½®ï¼‰**

è¿™æ˜¯ [echs-top/proxy](https://github.com/echs-top/proxy) çš„çœŸå®ä¸ªäººé…ç½®ï¼ˆæŒç»­æ›´æ–°è‡³ 2026 å¹´ï¼‰ï¼Œä¹Ÿæ˜¯ Issue #2274 çš„æäº¤è€…æœ¬äººä½¿ç”¨çš„å†™æ³•ã€‚å®ƒæœ‰å‡ ä¸ªå’Œå…¶ä»–æµæ´¾å®Œå…¨ä¸åŒçš„è®¾è®¡æ€è·¯ï¼š

```yaml
# æ¥æºï¼šechs-top/proxyï¼ˆ2026-02-21 æ›´æ–°ï¼‰
# æ ¸å¿ƒç‰¹è‰²ï¼š
#  1. providers é”šç‚¹ï¼ˆåŒ…å« exclude-filterï¼Œä¸€æ¬¡æ€§å‡€åŒ–åƒåœ¾èŠ‚ç‚¹ï¼‰
#  2. use é”šç‚¹ï¼ˆé”šå®š"ä½¿ç”¨å“ªäº› provider"ï¼‰
#  3. fall é”šç‚¹åµŒå¥—å¼•ç”¨ use é”šç‚¹ï¼ˆé”šç‚¹å¥—é”šç‚¹ï¼‰
#  4. zl/dl åŒæ¨¡æ¿ï¼ˆç›´è¿ä¼˜å…ˆ vs ä»£ç†ä¼˜å…ˆï¼‰

providers: &providers
  type: http
  interval: 86400
  proxy: ç›´æ¥è¿æ¥
  health-check: { enable: true, url: 'https://dns.google/generate_204', expected-status: 204, interval: 600, timeout: 3000, max-failed-times: 2, lazy: false }
  exclude-filter: '(?i)å¥—é¤|å‰©ä½™|æµé‡|åˆ°æœŸ|é‡ç½®|é¢‘é“|è®¢é˜…|å®˜ç½‘|ç¦æ­¢|å®¢æˆ·ç«¯|æœ‰æ•ˆ|è”ç³»|æµ‹è¯•|èŠ‚ç‚¹|...'

proxy-providers:
  link1: { <<: *providers, url: 'è®¢é˜…é“¾æ¥1', path: ./providers/link1.yaml }
  link2: { <<: *providers, url: 'è®¢é˜…é“¾æ¥2', path: ./providers/link2.yaml }
  link3: { <<: *providers, url: 'è®¢é˜…é“¾æ¥3', path: ./providers/link3.yaml }

# â”€â”€ å…³é”®è®¾è®¡ï¼šuse é”šç‚¹å®šä¹‰"å“ªäº› provider è¿›è‡ªåŠ¨ç»„"
use: &use { use: [link1, link2] }    # link3 æ˜¯æ‰‹åŠ¨ç»„ä¸“ç”¨ï¼Œä¸è¿›è‡ªåŠ¨æµ‹é€Ÿ

# â”€â”€ fall é”šç‚¹åµŒå¥—å¼•ç”¨ use é”šç‚¹ï¼ˆ<<: *use ä¼šå±•å¼€ use å­—æ®µï¼‰
fall: &fall { type: fallback, <<: *use, hidden: true }

# â”€â”€ zlï¼ˆç›´è¿ä¼˜å…ˆé€‰æ‹©ï¼‰å’Œ dlï¼ˆä»£ç†ä¼˜å…ˆé€‰æ‹©ï¼‰ä¸¤å¥—åŠŸèƒ½ç»„æ¨¡æ¿
zl: &zl { type: select, proxies: [ç›´æ¥è¿æ¥, ä»£ç†è¿æ¥, æœ€ä½å»¶è¿Ÿ, é¦™æ¸¯|æ•…éšœè½¬ç§», ...], include-all-providers: true }
dl: &dl { type: select, proxies: [ä»£ç†è¿æ¥, ç›´æ¥è¿æ¥, æœ€ä½å»¶è¿Ÿ, é¦™æ¸¯|æ•…éšœè½¬ç§», ...], include-all-providers: true }

proxy-groups:
  - { name: ä»£ç†è¿æ¥, type: select, proxies: [æœ€ä½å»¶è¿Ÿ, é¦™æ¸¯|æ•…éšœè½¬ç§», ...], include-all-providers: true, icon: '...' }
  - { name: ç›´æ¥è¿æ¥, type: select, proxies: [DIRECT, ipv4-prefer, ipv6-prefer], icon: '...' }
  # zl ç”¨äº"ç›´è¿æ—¶ä¹Ÿå…è®¸ä»£ç†"çš„æœåŠ¡ï¼ˆå¦‚ FCM æ¨é€ï¼‰
  - { name: FCMæ¨é€,  <<: *zl, icon: '...' }
  # dl ç”¨äº"èµ°ä»£ç†ä¸ºä¸»"çš„æœåŠ¡
  - { name: TELEGRAM, <<: *dl, icon: '...' }
  - { name: å›½å¤–AI,   <<: *dl, icon: '...' }
  # æœ€ä½å»¶è¿Ÿï¼šurl-test
  - { name: æœ€ä½å»¶è¿Ÿ, type: url-test, tolerance: 30, <<: *use, hidden: true, icon: '...' }
  # åœ°åŒºç»„ï¼šåªç”¨ fallbackï¼Œæ²¡æœ‰ url-test + load-balance ä¸‰åˆä¸€
  - { name: é¦™æ¸¯|æ•…éšœè½¬ç§», <<: *fall, filter: '(?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|\bHK\b', icon: '...' }
  - { name: æ—¥æœ¬|æ•…éšœè½¬ç§», <<: *fall, filter: '(?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|\bJP\b', icon: '...' }
  # ...
```

**å‡ ä¸ªçœŸæ­£ç‹¬ç‰¹çš„è®¾è®¡å†³ç­–ï¼š**

1. **`use` é”šç‚¹åµŒå¥—**ï¼šæŠŠ"å“ªäº› provider è¿›ç»„"ä¹ŸæŠ½è±¡æˆé”šç‚¹ã€‚`fall: &fall { type: fallback, <<: *use }` å±•å¼€å `use` å­—æ®µç›´æ¥ä»é”šç‚¹ç»§æ‰¿ï¼Œè¿™æ ·ä¿®æ”¹å‚ä¸è‡ªåŠ¨ç»„çš„ provider åªéœ€æ”¹ä¸€è¡Œ `use` é”šç‚¹ã€‚

2. **`zl` / `dl` åŒæ¨¡æ¿**ï¼šzlï¼ˆç›´è¿ä¼˜å…ˆï¼‰å’Œ dlï¼ˆä»£ç†ä¼˜å…ˆï¼‰æœ¬è´¨ä¸Šæ˜¯åŒä¸€å¥—å€™é€‰åˆ—è¡¨ï¼ŒåŒºåˆ«åœ¨äº `proxies` åˆ—è¡¨é‡Œ"ç›´æ¥è¿æ¥"å’Œ"ä»£ç†è¿æ¥"çš„å…ˆåé¡ºåºä¸åŒã€‚åŠŸèƒ½ç»„é€‰å“ªå¥—æ¨¡æ¿ï¼Œå°±å†³å®šäº†é¢æ¿é‡Œçš„é»˜è®¤é€‰é¡¹æ˜¯ä»€ä¹ˆâ€”â€”è€Œä¸æ˜¯æ‰€æœ‰åŠŸèƒ½ç»„éƒ½ç”¨åŒä¸€å¥—ã€‚

3. **åªç”¨ fallbackï¼Œä¸ç”¨ url-test + load-balance**ï¼šechs-top çš„é€‰æ‹©æ˜¯"åªè¦èƒ½ç”¨å°±ç”¨ï¼ŒæŒ‚äº†å†åˆ‡"ï¼ˆfallbackï¼‰ï¼Œè€Œä¸æ˜¯"æŒç»­æµ‹é€Ÿé€‰æœ€å¿«çš„"ï¼ˆurl-testï¼‰ã€‚è¿™é™ä½äº†èŠ‚ç‚¹çš„å¥åº·æ£€æŸ¥é¢‘ç‡å’Œæµé‡æ¶ˆè€—ã€‚

4. **`exclude-filter` åœ¨ provider å±‚è€Œä¸æ˜¯ filter**ï¼šç”¨"é»‘åå•"æ’é™¤åƒåœ¾èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯"ç™½åå•"åªä¿ç•™æƒ³è¦çš„ï¼Œè¿™æ ·ä¸€ä¸ªè®¢é˜…é‡Œä¸åŒåœ°åŒºçš„èŠ‚ç‚¹éƒ½èƒ½è¢«å„è‡ªåœ°åŒºç»„æ­£ç¡®ç­›é€‰ã€‚

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| `use` é”šç‚¹åµŒå¥— | åœ°åŒºç»„çš„ provider æ¥æºé›†ä¸­ç®¡ç†ï¼Œä¸ç”¨é‡å¤å†™ `use: [link1, link2]` |
| `zl`/`dl` åŒæ¨¡æ¿ | åŠŸèƒ½ç»„æœ‰"ç›´è¿ä¼˜å…ˆ"å’Œ"ä»£ç†ä¼˜å…ˆ"ä¸¤å¥—å€™é€‰é¡ºåºï¼Œè€Œä¸æ˜¯ç»Ÿä¸€çš„ä¸€å¥— |
| åªç”¨ fallback | å‡å°‘å¥åº·æ£€æŸ¥æµé‡ï¼Œé€‚åˆèŠ‚ç‚¹ç¨³å®šçš„åœºæ™¯ï¼›ä»£ä»·æ˜¯æ²¡æœ‰å®æ—¶æµ‹é€Ÿæ’åº |
| `exclude-filter` å‡€åŒ– | provider å±‚ç”¨é»‘åå•æ’åƒåœ¾ï¼Œæ¯”ç”¨ filter ç™½åå•æ›´èƒ½ä¿ç•™æœ‰æ•ˆèŠ‚ç‚¹ |
| ä¸ iyyh çš„æœ¬è´¨å·®å¼‚ | iyyh ç”¨ä¸‰åˆä¸€ï¼ˆè‡ªåŠ¨/å›é€€/å‡è¡¡ï¼‰ï¼Œæ¯ä¸ªåœ°åŒºä¸‰ä¸ªç»„ï¼›echs-top åªç”¨ä¸€ä¸ª fallback ç»„ |
| ä¸è®¾ url-test åœ°åŒºç»„ | ä¸è¿½æ±‚æœ€ä½å»¶è¿Ÿï¼Œè¿½æ±‚ç¨³å®šè¿æ¥ï¼Œé€‚åˆä¸éœ€è¦ç²¾ç»†è°ƒèŠ‚é€Ÿåº¦çš„ç”¨æˆ· |

---

**æ¨ªå‘å¯¹æ¯”ä¸€ï¼š`filter` çš„ä¸‰ç§å†™æ³•**

è¿™æ˜¯é”šç‚¹å†™æ³•ä¸­æœ€å®¹æ˜“å¿½è§†çš„ç»†èŠ‚å·®å¼‚ï¼Œä¸åŒé£æ ¼å¯¹ filter çš„å¤„ç†æ–¹å¼ä¸åŒï¼š

```yaml
# å†™æ³• Aï¼šfilter å®Œå…¨å†…è”ï¼ˆä¸ç”¨é”šç‚¹ï¼‰
# ä¼˜ç‚¹ï¼šç›´è§‚ï¼›ç¼ºç‚¹ï¼šåŒä¸€åœ°åŒºçš„å¤šä¸ª group è¦ç²˜è´´ä¸‰éç›¸åŒæ­£åˆ™ï¼Œæ”¹ä¸€å¤„è¦æ”¹ä¸‰å¤„
- { name: "é¦™æ¸¯|è‡ªåŠ¨", <<: *g_t, filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å‰©ä½™|åˆ°æœŸ)).*$" }
- { name: "é¦™æ¸¯|å›é€€", <<: *g_f, filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å‰©ä½™|åˆ°æœŸ)).*$" }
- { name: "é¦™æ¸¯|å‡è¡¡", <<: *g_b, filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å‰©ä½™|åˆ°æœŸ)).*$" }

# å†™æ³• Bï¼šfilter é”šå®šä¸ºå­—ç¬¦ä¸²ï¼ˆiyyh é£æ ¼ï¼Œç›®å‰æœ€ä½³ï¼‰
# ä¼˜ç‚¹ï¼šæ­£åˆ™ç»Ÿä¸€ç®¡ç†ï¼Œæ”¹ä¸€å¤„å…¨éƒ¨ç”Ÿæ•ˆï¼›ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–ä¸€è¡Œå®šä¹‰
FilterHK: &FilterHK "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å‰©ä½™|åˆ°æœŸ)).*$"

- { name: "é¦™æ¸¯|è‡ªåŠ¨", <<: *g_t, filter: *FilterHK }
- { name: "é¦™æ¸¯|å›é€€", <<: *g_f, filter: *FilterHK }
- { name: "é¦™æ¸¯|å‡è¡¡", <<: *g_b, filter: *FilterHK }

# å†™æ³• Cï¼šfilter + icon é”šå®šä¸ºå¯¹è±¡ï¼ˆHenryChiao AIO ç†æƒ³å†™æ³•ï¼‰
# ä¼˜ç‚¹ï¼šè¿ icon ä¹Ÿä¸€èµ·ç®¡ç†ï¼Œæœ€ç»ˆæï¼›ç¼ºç‚¹ï¼šå—é™äºå¤š <<: ä¸æ”¯æŒï¼Œéœ€è¦ç»•è¿‡
hk: &hk
  filter: "^(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong))(?!.*(å‰©ä½™|åˆ°æœŸ)).*$"
  icon: "https://example.com/flags/hk.svg"

# å½“å‰ç»•è¿‡å†™æ³•ï¼šåªèƒ½ç”¨ *hk å¼•ç”¨ filterï¼Œicon è¦ä»é”šç‚¹ä¸­å–å‡ºæˆ–å•ç‹¬å†™
# å¾… issue #2274 æ”¯æŒåå¯ç›´æ¥ <<: *hk åˆå¹¶
```

| | å†™æ³• Aï¼ˆå®Œå…¨å†…è”ï¼‰ | å†™æ³• Bï¼ˆå­—ç¬¦ä¸²é”šç‚¹ï¼‰ | å†™æ³• Cï¼ˆå¯¹è±¡é”šç‚¹ï¼‰ |
|--|--|--|--|
| æ­£åˆ™ç»´æŠ¤ | âŒ æ¯å¤„å•ç‹¬ç»´æŠ¤ | âœ… é›†ä¸­ç®¡ç† | âœ… é›†ä¸­ç®¡ç† |
| icon ç»´æŠ¤ | æ‰‹åŠ¨æˆ–çœç•¥ | æ‰‹åŠ¨ | âœ… æ‰“åŒ…ï¼ˆå¾…æ”¯æŒï¼‰ |
| å¯è¯»æ€§ | âœ… æœ€ç›´è§‚ | âœ… æ¸…æ™° | âš ï¸ éœ€ç†è§£é”šç‚¹ |
| å½“å‰å¯ç”¨æ€§ | âœ… å®Œå…¨å¯ç”¨ | âœ… å®Œå…¨å¯ç”¨ | âš ï¸ filter å¯ç”¨ï¼Œicon åˆå¹¶å—é™ |
| æ¨èç¨‹åº¦ | å°å‹é…ç½® | **æ¨è** | å¾…ç‰¹æ€§æ”¯æŒåæ¨è |

---

**æ¨ªå‘å¯¹æ¯”äºŒï¼š`include-all` vs æ˜¾å¼ `use: [provider]`**

è¿™ä¸¤ç§å†™æ³•å†³å®šäº†ä»£ç†ç»„"ä»å“ªé‡Œå–èŠ‚ç‚¹"ï¼Œæ··æ·†ä½¿ç”¨ä¼šå¯¼è‡´èŠ‚ç‚¹æ¶ˆå¤±æˆ–é‡å¤ï¼š

```yaml
# å†™æ³• Aï¼šæ˜¾å¼åˆ—å‡º useï¼ˆè€å†™æ³•ï¼Œç²¾ç¡®æ§åˆ¶ï¼‰
proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    use:
      - æœºåœºA          # åªåŒ…å« æœºåœºA çš„èŠ‚ç‚¹
      - æœºåœºB          # å†åŠ ä¸Š æœºåœºB çš„èŠ‚ç‚¹
    proxies:
      - DIRECT

# å†™æ³• Bï¼šinclude-allï¼ˆæ–°å†™æ³•ï¼Œè‡ªåŠ¨åŒ…å«ä¸€åˆ‡ï¼‰
proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    include-all: true  # è‡ªåŠ¨åŒ…å«æ‰€æœ‰ proxies + æ‰€æœ‰ proxy-providers
    proxies:
      - DIRECT          # proxies é‡Œæ‰‹å†™çš„æ¡ç›®ä»ç„¶æœ‰æ•ˆï¼Œæ’åœ¨ include-all èŠ‚ç‚¹ä¹‹å‰

# å†™æ³• Cï¼šinclude-all-proxies / include-all-providersï¼ˆæ‹†åˆ†æ§åˆ¶ï¼‰
proxy-groups:
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    include-all-proxies: true    # åªåŒ…å« proxies æ®µæ‰‹å†™çš„èŠ‚ç‚¹
    include-all-providers: false # ä¸åŒ…å« proxy-providers çš„èŠ‚ç‚¹
    proxies: [DIRECT]
```

| | å†™æ³• Aï¼ˆæ˜¾å¼ useï¼‰ | å†™æ³• Bï¼ˆinclude-allï¼‰ | å†™æ³• Cï¼ˆæ‹†åˆ†ï¼‰ |
|--|--|--|--|
| æ–°å¢ provider å | âŒ è¦æ‰‹åŠ¨å»æ¯ä¸ª group åŠ  `use` | âœ… è‡ªåŠ¨åŒ…å«ï¼Œé›¶ç»´æŠ¤ | æŒ‰éœ€æ§åˆ¶ |
| ç²¾ç¡®æŒ‡å®šæ¥æº | âœ… ç²¾ç¡®åˆ° provider çº§åˆ« | âŒ å…¨åŒ…å«ï¼Œæ— æ³•æ’é™¤æŸä¸ª provider | âœ… å¯åˆ†åˆ«æ§åˆ¶ |
| æ­é… filter ä½¿ç”¨ | âœ… åœ¨ group å±‚ filter | âœ… åœ¨ group å±‚ filter | âœ… |
| æ¨èåœºæ™¯ | å¤šæœºåœºå„å¸å…¶èŒã€ä¸æƒ³æ··åˆ | **æ—¥å¸¸ä¸»åŠ›ï¼Œæœ€çœäº‹** | ç²¾ç»†æ§åˆ¶åœºæ™¯ |

> **æ³¨æ„ï¼š** `include-all` æ—¶ `use:` å­—æ®µä¼šå¤±æ•ˆï¼Œ`include-all-providers` è®¾ä¸º true ååŒæ ·ä½¿ `use:` å¤±æ•ˆã€‚ä¸è¦åŒæ—¶å†™ä¸¤è€…ã€‚

---

**æµæ´¾å…­ï¼šliuran001ã€Œæ‡’äººé…ç½®ã€é£æ ¼ï¼ˆ`pr` + `use` åŒé”šç‚¹ï¼Œå®Œå…¨ä¸åŒçš„æ€è·¯ï¼‰**

è¿™æ˜¯ [liuran001 çš„ç¤¾åŒºé«˜æ˜Ÿé…ç½®ï¼ˆ584 starsï¼‰](https://gist.github.com/liuran001/5ca84f7def53c70b554d3f765ff86a33) ä»£è¡¨çš„å¦ä¸€å¥—å®Œå…¨ä¸åŒçš„é”šç‚¹å“²å­¦ï¼š**ä¸é”šå®šç»„ç±»å‹å‚æ•°ï¼Œè€Œæ˜¯é”šå®š"åŠŸèƒ½ç»„çš„ proxies å€™é€‰åˆ—è¡¨"å’Œ"è®¢é˜…ç»„çš„å®Œæ•´å®šä¹‰"**ã€‚

```yaml
# æ¥æºï¼šliuran001 æ‡’äººé…ç½®ï¼ˆç¤¾åŒºé«˜æ˜Ÿï¼‰
# æ ¸å¿ƒæ€è·¯ï¼š
#   pr  é”šå®šæ‰€æœ‰åŠŸèƒ½ç»„å…±ç”¨çš„ proxies å€™é€‰åˆ—è¡¨
#   use é”šå®šè®¢é˜…ç»„çš„å®Œæ•´å†™æ³•ï¼ˆç±»å‹+è®¢é˜…æ¥æºï¼‰
#   p   é”šå®š proxy-provider å‚æ•°ï¼ˆä¸å…¶ä»–é£æ ¼ç›¸åŒï¼‰

# 1. prï¼šæ‰€æœ‰åŠŸèƒ½ç»„å…±äº«çš„ä»£ç†å€™é€‰åˆ—è¡¨
pr: &pr
  type: select
  proxies:
    - èŠ‚ç‚¹é€‰æ‹©
    - é¦™æ¸¯
    - å°æ¹¾
    - æ—¥æœ¬
    - æ–°åŠ å¡
    - ç¾å›½
    - å…¶å®ƒåœ°åŒº
    - å…¨éƒ¨èŠ‚ç‚¹
    - è‡ªåŠ¨é€‰æ‹©
    - DIRECT

# 2. useï¼šè®¢é˜…èšåˆç»„çš„å®Œæ•´å†™æ³•
use: &use
  type: url-test        # æ”¹ä¸º type: select åˆ™å˜æˆæ‰‹åŠ¨é€‰æ‹©
  use:
    - è®¢é˜…ä¸€
    - è®¢é˜…äºŒ

# 3. pï¼šprovider å‚æ•°
p: &p
  type: http
  interval: 3600
  health-check:
    enable: true
    url: https://cp.cloudflare.com
    interval: 300
    timeout: 1000
    tolerance: 100

proxy-providers:
  è®¢é˜…ä¸€:
    <<: *p
    url: "https://airport-a.com/..."
  è®¢é˜…äºŒ:
    <<: *p
    url: "https://airport-b.com/..."

proxy-groups:
  # é¡¶å±‚å…¥å£
  - name: èŠ‚ç‚¹é€‰æ‹©
    <<: *use          # ç›´æ¥ç”¨ use é”šç‚¹ï¼Œè®¢é˜…ç±»å‹å’Œæ¥æºä¸€è¡Œæå®š

  # åœ°åŒºè‡ªåŠ¨ç»„ï¼ˆä¸ç”¨é”šç‚¹ï¼Œç›´æ¥å†™ï¼‰
  - name: é¦™æ¸¯
    type: url-test
    use: [è®¢é˜…ä¸€, è®¢é˜…äºŒ]
    filter: "(?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK"
    url: https://cp.cloudflare.com
    interval: 300

  # åŠŸèƒ½ç»„å…¨éƒ¨ç»§æ‰¿ pr å€™é€‰åˆ—è¡¨
  - name: "ğŸ¤– AI æœåŠ¡"
    <<: *pr           # ä¸€è¡Œç»§æ‰¿å®Œæ•´å€™é€‰åˆ—è¡¨

  - name: "ğŸ“¹ æµåª’ä½“"
    <<: *pr           # åŒä¸Šï¼ŒåŠŸèƒ½ç»„é…ç½®æç®€
```

| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| `pr` é”šç‚¹ | æŠŠæ‰€æœ‰åŠŸèƒ½ç»„çš„å€™é€‰ proxies åˆ—è¡¨ç»Ÿä¸€ç®¡ç†ï¼ŒåŠ å‡åœ°åŒºåªæ”¹ä¸€å¤„ |
| `use` é”šç‚¹ | è®¢é˜…èšåˆç»„çš„å†™æ³•ä¹Ÿé”šå®šï¼Œå¤šä¸ªèšåˆç»„ï¼ˆå…¨éƒ¨èŠ‚ç‚¹ã€è‡ªåŠ¨é€‰æ‹©ç­‰ï¼‰å¤ç”¨ |
| ä¸ iyyh é£æ ¼çš„æœ¬è´¨åŒºåˆ« | iyyh é”šå®š"ç»„ç±»å‹å‚æ•°"ï¼›liuran001 é”šå®š"ç»„çš„ proxies å€™é€‰åˆ—è¡¨" |
| ä¼˜ç‚¹ | åŠŸèƒ½ç»„æå…¶ç®€æ´ï¼ˆä¸¤è¡Œï¼‰ï¼Œæ–°æ‰‹å®¹æ˜“çœ‹æ‡‚ proxies æ¥æº |
| ç¼ºç‚¹ | æ‰€æœ‰åŠŸèƒ½ç»„å€™é€‰åˆ—è¡¨å®Œå…¨ç›¸åŒï¼Œæ— æ³•ç»™ AI æœåŠ¡å•ç‹¬é…ç¾å›½ä¼˜å…ˆã€æµåª’ä½“é…é¦™æ¸¯ä¼˜å…ˆï¼›`pr` é”šç‚¹ä¸€æ—¦ä¿®æ”¹å½±å“æ‰€æœ‰åŠŸèƒ½ç»„ |
| DNS æ¨¡å¼ | è¯¥é…ç½®ä½¿ç”¨ `redir-host`ï¼ˆä¸æ˜¯ `fake-ip`ï¼‰ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªå€¼å¾—å¯¹æ¯”çš„è®¾è®¡é€‰æ‹©ï¼ˆè§ä¸‹æ–‡ï¼‰ |

---

**æ¨ªå‘å¯¹æ¯”ä¸‰ï¼š`fake-ip` vs `redir-host`â€”â€”ä¸¤ç§ä¸»æµ DNS æ¨¡å¼çš„çœŸå®å·®å¼‚**

è¿™æ˜¯é…ç½®æ–‡ä»¶ä¸­äº‰è®®æœ€å¤šçš„é€‰é¡¹ä¹‹ä¸€ï¼Œä¸¤ç§æ¨¡å¼åœ¨ä¸åŒåœºæ™¯ä¸‹å„æœ‰ä¼˜åŠ£ï¼š

```yaml
# æ¨¡å¼ Aï¼šfake-ipï¼ˆiyyh / æœ¬æ•™ç¨‹ä¸»æ¨ï¼‰
dns:
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  # âœ… ç‰¹ç‚¹ï¼šæ”¶åˆ° DNS æŸ¥è¯¢åç«‹å³è¿”å›å‡ IPï¼Œæµé‡å‘åˆ°å‡ IP åæ‰çœŸæ­£å»ºç«‹è¿æ¥
  # åŸŸåè§„åˆ™åœ¨ DNS è§£æå®Œæˆå‰å°±èƒ½åŒ¹é…ï¼Œé€Ÿåº¦å¿«ï¼Œfake-ip ä¸åœ¨æœ¬åœ°çœŸæ­£è§£æä»£ç†åŸŸå

# æ¨¡å¼ Bï¼šredir-hostï¼ˆliuran001 / è·¯ç”±å™¨å¸¸ç”¨ï¼‰
dns:
  enhanced-mode: redir-host
  # âœ… ç‰¹ç‚¹ï¼šæ­£å¸¸å®Œæˆ DNS è§£æï¼Œç”¨çœŸå® IP åŒ¹é…è§„åˆ™ï¼›DNS è§£æç»“æœé€ä¼ ç»™åº”ç”¨
  # è·¯ç”±å™¨å…¼å®¹æ€§æœ€å¥½ï¼›æŸäº›ä¸å…¼å®¹ fake-ip çš„ APPï¼ˆæ¸¸æˆ/å›½å†…æ”¯ä»˜ï¼‰æ›´ç¨³å®š
```

| å¯¹æ¯”é¡¹ | fake-ip | redir-host |
|--------|---------|------------|
| è¿æ¥é€Ÿåº¦ | â­â­â­ æ›´å¿«ï¼ˆæ— éœ€ç­‰å¾…çœŸå® DNSï¼‰ | â­â­ ç¨æ…¢ï¼ˆéœ€å®ŒæˆçœŸå® DNS è§£æï¼‰ |
| è§„åˆ™åŒ¹é… | åŸŸåè§„åˆ™ä¼˜å…ˆï¼Œæ— éœ€ DNS å°±èƒ½åŒ¹é… | å…ˆ DNS å†åŒ¹é…ï¼Œå¯èƒ½è§¦å‘ DNS è§£æ |
| æ¸¸æˆ/ç‰¹æ®Š APP å…¼å®¹ | âš ï¸ éƒ¨åˆ†æ¸¸æˆ/æ”¯ä»˜ä¸å…¼å®¹ï¼Œéœ€åŠ ç™½åå• | âœ… åŸç”Ÿå…¼å®¹ï¼Œæ— éœ€ç™½åå• |
| è·¯ç”±å™¨åœºæ™¯ | âš ï¸ éœ€é¢å¤–é…ç½® fake-ip-filter | âœ… é¦–é€‰ï¼Œå…¼å®¹æ€§æœ€å¥½ |
| DNS æ³„éœ²æ§åˆ¶ | âœ… ä»£ç†æµé‡ä¸åœ¨æœ¬åœ°è§£æï¼Œæœ€å¹²å‡€ | âš ï¸ ä»£ç†åŸŸåä»åœ¨æœ¬åœ° DNS è§£æä¸€æ¬¡ |
| æ¨èåœºæ™¯ | ä¸ªäººç”µè„‘/æ‰‹æœºæ—¥å¸¸ä½¿ç”¨ | è½¯è·¯ç”±/OpenWrt/æ—è·¯ç”±/è·¯ç”±å™¨ |

> **ç»“è®ºï¼š** ä¸ªäººè®¾å¤‡æ—¥å¸¸ä½¿ç”¨æ¨è `fake-ip`ï¼Œè·¯ç”±å™¨/è½¯è·¯ç”±éƒ¨ç½²æ¨è `redir-host`ã€‚ä¸¤ç§æ¨¡å¼çš„è§„åˆ™å†™æ³•ç›¸åŒï¼Œåªéœ€æ”¹ `enhanced-mode` ä¸€è¡Œï¼Œå…¶ä»–è§„åˆ™æ— éœ€è°ƒæ•´ã€‚

---

**æ€»ç»“ï¼šå…«ç§é”šç‚¹é£æ ¼æ¨ªå‘é€ŸæŸ¥è¡¨**

| | é”šå®šå¯¹è±¡ | ä»£è¡¨é…ç½® | é…ç½®é•¿åº¦ | å¯è¯»æ€§ | çµæ´»æ€§ | æ¨è |
|--|--|--|--|--|--|--|
| æµæ´¾ä¸€ | åªé”š provider å‚æ•° | å®˜æ–¹ç¤ºä¾‹ / å…¥é—¨æ•™ç¨‹ | é•¿ | â­â­â­ | â­â­ | æ–°æ‰‹å…¥é—¨ |
| æµæ´¾äºŒ | provider + group ç±»å‹å‚æ•° | iyyh / è¿›é˜¶ä¸»æµ | ä¸­ | â­â­ | â­â­â­ | âœ… æ—¥å¸¸ä¸»åŠ› |
| æµæ´¾ä¸‰ | proxies å€™é€‰åˆ—è¡¨ | æ—©æœŸæ•™ç¨‹ | ä¸­ | â­â­â­ | â­ | ä¸æ¨è |
| æµæ´¾å›› | provider + groupï¼ˆå•è¡Œæç®€ï¼‰ | HenryChiao / YYDS | æœ€çŸ­ | â­ | â­â­â­ | âœ… å¤§å‹é…ç½® |
| æµæ´¾äº” | ä¸‰å±‚åµŒå¥—ï¼ˆå«åœ°åŒº filter+iconï¼‰ | ç¤¾åŒºç†æƒ³ï¼ˆissue #2274ï¼‰ | æœ€çŸ­ï¼ˆç†è®ºï¼‰ | â­ | â­â­â­â­ | ç­‰ç‰¹æ€§æ”¯æŒ |
| æµæ´¾å…­ | proxies å€™é€‰åˆ—è¡¨ + è®¢é˜…èšåˆç»„ | liuran001 æ‡’äººé…ç½® | ä¸­ | â­â­â­ | â­â­ | æ‡’äºº/å…¥é—¨ |
| **æµæ´¾ä¸ƒï¼ˆaï¼‰** | provider + `pr` åŠŸèƒ½ç»„æ¨¡æ¿ï¼ˆå®˜æ–¹æç®€ï¼‰ | å®˜æ–¹ geox å¿«æ·é…ç½® | æçŸ­ | â­â­â­ | â­ | ä¸´æ—¶è¿‡æ¸¡ |
| **æµæ´¾ä¸ƒï¼ˆbï¼‰** | `use` è®¢é˜…ç»„ + `zl`/`dl` åŒåŠŸèƒ½æ¨¡æ¿ + åµŒå¥—é”šç‚¹ | echs-top | çŸ­ | â­â­ | â­â­â­ | è¿›é˜¶è‡ªç”¨ |

**å¦‚ä½•é€‰æ‹©ï¼š**

- åˆšå…¥é—¨ã€æƒ³è·‘é€šï¼šæµæ´¾ä¸ƒ(a) æˆ–æµæ´¾å…­
- ä¸ªäººæ—¥å¸¸ä½¿ç”¨ã€æƒ³ç²¾å‡†æ§åˆ¶ï¼šæµæ´¾äºŒï¼ˆiyyh é£æ ¼ï¼‰
- é…ç½®åœ°åŒºå¤šï¼ˆ8+ï¼‰ã€è¿½æ±‚æ–‡ä»¶æœ€çŸ­ï¼šæµæ´¾å››ï¼ˆæç®€å•è¡Œï¼‰
- ä¸åœ¨ä¹å»¶è¿Ÿæœ€ä½ã€åªè¦ç¨³å®šè¿æ¥ã€èŠ‚ç‚¹å¤šä¸”ç¨³ï¼šæµæ´¾ä¸ƒ(b)ï¼ˆechs-topï¼‰
- æƒ³ç­‰æœªæ¥åŠŸèƒ½ï¼šæµæ´¾äº”ï¼ˆå¤š `<<:` æ”¯æŒåå‡çº§ï¼‰

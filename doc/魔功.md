# 普通家庭最简易科学环境搭建：兼顾效能与性价比

## 前提：搭建思路与硬件选择

搭建一个稳定、易用、且性价比高的“科学上网”环境是许多家庭的需求。我们把目标锁定在最**轻量化**、**低成本**的方案上。

### 硬件选择：好用不贵，才是“硬”道理

我们的核心是准备一台能够运行科学上网插件的**小主机**，形态不拘：

* **设备范围：** “断头”笔记本主板、闲置的电视盒子，或是市面上常见的入门级软路由/准系统。
* **核心要求：** 必须能稳定刷入并运行 **OpenWrt** 系统，且能流畅跑起 **OpenClash**（或其他你习惯的科学上网工具）。

> **不追高配，够用就好。**
> 如今内存和存储价格飞涨，搞 All in One（AIO）动辄大几百的投入不适合普通家庭。我更倾向于选择那些**单网口**，但**支持扩展网卡**的小设备。市面上那些**200元以内**的“洋垃圾”或者低功耗小板，就是我们的目标。对我这个普通用户来说，**它能达到我的性价比红线，好用才是关键。**

### 我们的精选方案：OpenWrt 旁路由（以 Oect 为例）

我选择的是一个更聚焦、更轻量的方案，例如利用 Oect 这类设备：

1.  **系统与部署：** 刷入 **Lean 大佬的 QWrt** ，利用它原生的 4GB 内存 + 8GB 存储。
2.  **网络扩展：** 如果需要双网口，可以利用 **USB 3.0 接口外接网卡**来实现。
3.  **核心用法：** 将其部署为 **旁路由**（或称旁路网关），专门负责科学上网的功能。

### 关于旁路由的“争论”与“优势”

我知道，圈内总有“大拿”说旁路由是**迫不得已的垃圾**。但对我来说，旁路由有其独特的**灵活性和优势**：

* **互不干扰：** 旁路由独立运行，完全不影响主路由的稳定。
* **策略路由的王者：** 当你的**主路由**支持**指定设备访问网关**的功能时，你可以将特定的设备（比如电视、手机）的网关指向旁路由，而其他设备则走主路由，实现**策略分流的最优解**。
* **冗余与稳定：** 旁路由可以做成**双旁路系统**，通过主路由的群组功能，实现旁路网关的**冗余备份**，避免单点宕机。

---

## 核心部署：设置、软件与网络参数

### ❶ 旁路由的设置：简单为王

现在的 **OpenWrt** 固件通
常都集成了友好的 **Quick Start** 引导，让旁路由的设置变得异常简单。

* **如果没有 Quick Start：** 核心配置也简单：**设置静态 IP，关闭 DHCP 服务，网关和 DNS 指向主路由。**

### ❷ 科学上网软件的选择：力荐 OpenClash（MiHomo 内核）

虽然市面上有 PassWall 等各种科学上网工具，但我依然强烈推荐使用基于 **MiHomo 内核**的软件，尤其是 **OpenClash**。

* **推荐理由：** **操作简便，功能强大。** OpenClash 更新后引入了**覆写（Override）模块**，你可以非常方便地套用各种成熟的配置模板。

> ** 关于配置的忠告：**
> **不要相信网络上那些花哨的“万能配置”。** 核心是找到一个**符合你分流需求的配置**（或者自己写一个）。多参考几个项目（例如：`https://github.com/HenryChiao/mihomo_yamls`），然后定制出最适合你家网络环境的分流方案。

### ❸ 为什么选用 Smart 内核？面向普通用户的性能优化

OpenClash 的 **Smart 内核**是作者基于 MiHomo 内核做的一个强化分支，类似于 Surge 的**强化负载均衡**。

* **Smart 内核的核心优势：** **智能故障转移和权重分配。** 它特别适合**节点质量不够稳定**或**拥有多个备用机场**的用户。你可以设置使用权重，让系统在节点质量不好时，更聪明地切换和分配流量。
* **总结：** 对于普通用户来说，Smart 内核提供了**更好的易用性和稳定性**，让你的网络体验更流畅。

### ❹ 核心网络参数设置：网关与 DNS 的指向问题

我们假设你的网络环境配置如下（主路由 IP 为 `192.168.31.1`）：

* **旁路由主 IP：** `192.168.31.2`
* **旁路由子系统/备用 IP：** `192.168.31.3`
* **推荐指向的浮动网关 IP：** `192.168.31.4` (作为旁路由的**服务 IP**)

| 参数 | 推荐配置 | 备注 |
| :--- | :--- | :--- |
| **设备 IP** | `192.168.31.222` | 静态设置，避免 IP 冲突。 |
| **网关 (Gateway)** | `192.168.31.4` | 将设备流量导向旁路由进行处理。 |
| **子网掩码 (Subnet)** | `255.255.255.0` 或 `/24` | 标准设置。 |

**关于 DNS 服务器的指向：**

你有两种选择：

1.  **指向旁路网关：** `192.168.31.4`
2.  **指向 Fake IP 的 DNS：** `198.18.0.2`

> **我的经验之谈：**
> **我个人更习惯使用 `198.18.0.2`。** 虽然原理不一定能说清，但它就是能用，而且更稳定。这是因为 OpenClash 的透明代理机制会自行处理 DNS 请求，指向这个 IP 可以确保流量走在正确的代理链路上。
